(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6fb55cc"],{"13d4":function(a,t,e){"use strict";e("b9ee")},b9ee:function(a,t,e){},df4f:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a._self._c;return t("div",[t("a-card",{attrs:{title:"财务数据管理"}},[t("a-row",{staticStyle:{"margin-bottom":"16px"},attrs:{gutter:16}},[t("a-col",{attrs:{span:8}},[t("a-range-picker",{staticStyle:{width:"100%"},attrs:{format:"YYYY-MM-DD","default-value":a.defaultDateRange},on:{change:a.fetchData},model:{value:a.dateRange,callback:function(t){a.dateRange=t},expression:"dateRange"}})],1),t("a-col",{staticStyle:{display:"flex","align-items":"center"},attrs:{span:4}},[t("span",{staticClass:"label"},[a._v("美元税率:")]),t("a-input",{staticStyle:{width:"100px"},model:{value:a.rate,callback:function(t){a.rate=t},expression:"rate"}})],1),t("a-col",{attrs:{span:4}},[t("a-button",{attrs:{type:"primary",icon:"search"},on:{click:a.list}},[a._v("查询")])],1)],1),t("a-row",{staticStyle:{"margin-bottom":"16px"}},[t("a-col",{staticStyle:{display:"flex"}},[t("a-card",{staticStyle:{width:"50%","text-align":"center"},attrs:{title:"销售数据"}},[t("div",[t("span",{staticClass:"label"},[a._v("订单单量:")]),t("span",{staticClass:"value"},[a._v(" "+a._s(a.summary.ozonOrder.quantity_order)+" ")])]),t("div",[t("span",{staticClass:"label"},[a._v("商品数量:")]),t("span",{staticClass:"value"},[a._v(" "+a._s(a.summary.ozonOrder.quantity_product)+" ")])]),t("div",[t("span",{staticClass:"label"},[a._v("人民币销售总额:")]),t("span",{staticClass:"value"},[a._v(" "+a._s(a.summary.ozonOrder.rmbData)+"￥ ")])]),t("div",[t("span",{staticClass:"label"},[a._v("美元销售总额:")]),t("span",{staticClass:"value"},[a._v(" "+a._s(a.summary.ozonOrder.usdData)+"$ ")])]),t("vue-echarts",{staticStyle:{height:"300px",width:"90%"},attrs:{options:a.salesTrendChart_quantity}}),t("vue-echarts",{staticStyle:{height:"300px",width:"90%"},attrs:{options:a.salesTrendChart_money}})],1),t("a-card",{staticStyle:{width:"50%","text-align":"center"},attrs:{title:"采购数据"}},[t("div",[t("span",{staticClass:"label"},[a._v("采购单量:")]),t("span",{staticClass:"value"},[a._v(" "+a._s(a.summary.purchaseOrder.quantity_order)+" ")])]),t("div",[t("span",{staticClass:"label"},[a._v("采购数量:")]),t("span",{staticClass:"value"},[a._v(" "+a._s(a.summary.purchaseOrder.quantity_product)+" ")])]),t("div",[t("span",{staticClass:"label"},[a._v("采购总额:")]),t("span",{staticClass:"value"},[a._v(" "+a._s(a.summary.purchaseOrder.price)+"￥ ")])]),t("vue-echarts",{staticStyle:{height:"300px",width:"90%"},attrs:{options:a.purchaseTrendChart_quantity}}),t("vue-echarts",{staticStyle:{height:"300px",width:"90%"},attrs:{options:a.purchaseTrendChart_money}})],1)],1)],1),t("a-row",{staticStyle:{"margin-bottom":"16px"},attrs:{gutter:16}},a._l(a.rankData,(function(a,e,s){return t("a-col",{key:e,attrs:{span:12}},[t("a-card",{attrs:{title:a.title}},[t("a-table",{attrs:{columns:a.Columns,"data-source":a.data,rowKey:"id",size:"small",bordered:""}})],1)],1)})),1),t("a-row",{staticStyle:{"margin-bottom":"16px"},attrs:{gutter:16}},[t("a-col",{attrs:{span:24}},[t("a-card",{attrs:{title:"OZON商品销量 Top20"}},[t("vue-echarts",{staticStyle:{height:"400px",width:"90%"},attrs:{options:a.topProductsChart_volume}})],1)],1)],1),t("a-row",{staticStyle:{"margin-bottom":"16px"},attrs:{gutter:16}},[t("a-col",{attrs:{span:24}},[t("a-card",{attrs:{title:"OZON销售额(元) Top20"}},[t("vue-echarts",{staticStyle:{height:"400px",width:"90%"},attrs:{options:a.topProductsChart_price}})],1)],1)],1)],1)],1)},r=[],i=(e("a573"),e("c1df")),n=e.n(i),d=e("b775");function o(a){return Object(d["a"])({url:"/general/getFinaceAnalysisData",method:"post",data:a})}var l=e("f64c"),u={name:"FinanceManagement",data(){return{dateRange:[n()().subtract(1,"month"),n()()],defaultDateRange:[n()().subtract(1,"month"),n()()],summary:{ozonOrder:{quantity_order:0,quantity_product:0,rmbData:0,usdData:0},purchaseOrder:{quantity_order:0,quantity_product:0,price:0}},salesTrendChart_money:{tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"line",data:[],name:"CNY"},{type:"line",data:[],name:"USD"}],legend:{data:["USD","CNY"],top:"10%"}},salesTrendChart_quantity:{tooltip:{trigger:"axis"},legend:{data:["订单数量","商品数量"],top:"10%"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"line",data:[],name:"订单数量"},{type:"line",data:[],name:"商品数量"}]},purchaseTrendChart_money:{legend:{data:["采购金额"],top:"10%"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"line",data:[],name:"采购金额"}]},purchaseTrendChart_quantity:{legend:{data:["采购单量","商品数量"],top:"10%"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"line",data:[],name:"采购单量"},{type:"line",data:[],name:"商品数量"}]},rankData:{shopSalesRankingData:{title:"店铺销售额排名",data:[],Columns:[{title:"排名",dataIndex:"rank",key:"rank"},{title:"店铺",dataIndex:"name",key:"name"},{title:"人民币",dataIndex:"rmbData",key:"rmbData"},{title:"美元",dataIndex:"usdData",key:"usdData"},{title:"总额 (人民币)",dataIndex:"addData",key:"addData"}]},shopSalesVolumeData:{title:"店铺销售量排名",data:[],Columns:[{title:"排名",dataIndex:"rank",key:"rank"},{title:"店铺",dataIndex:"name",key:"name"},{title:"订单销量",dataIndex:"quantity_order",key:"quantity_order"},{title:"产品销量",dataIndex:"quantity_product",key:"quantity_product"}]},operationSalesRankingData:{title:"运营销售额排名",data:[],Columns:[{title:"排名",dataIndex:"rank",key:"rank"},{title:"运营",dataIndex:"name",key:"name"},{title:"人民币",dataIndex:"rmbData",key:"rmbData"},{title:"美元",dataIndex:"usdData",key:"usdData"},{title:"总额 (人民币)",dataIndex:"addData",key:"addData"}]},operationSalesVolumeData:{title:"运营销售量排名",data:[],Columns:[{title:"排名",dataIndex:"rank",key:"rank"},{title:"运营",dataIndex:"name",key:"name"},{title:"订单销量",dataIndex:"quantity_order",key:"quantity_order"},{title:"产品销量",dataIndex:"quantity_product",key:"quantity_product"}]}},topProductsChart_volume:{tooltip:{trigger:"item"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"bar",data:[]}]},topProductsChart_price:{tooltip:{trigger:"item"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"bar",data:[]}]},rate:7}},methods:{fetchData(){console.log("查询的时间范围:",this.dateRange.map(a=>a.format("YYYY-MM-DD")))},initialize(){this.list()},list(){this.loading=!0,o({dateRange:this.dateRange.map(a=>a.format("YYYY-MM-DD"))}).then(a=>{console.log(a.data),this.summary={...a.data.summary},this.salesTrendChart_quantity.xAxis.data=Object.keys(a.data.salesTrend),this.salesTrendChart_quantity.series[0].data=Object.values(a.data.salesTrend).map(a=>a.quantity_order),this.salesTrendChart_quantity.series[1].data=Object.values(a.data.salesTrend).map(a=>a.quantity_product),this.salesTrendChart_money.xAxis.data=Object.keys(a.data.salesTrend),this.salesTrendChart_money.series[0].data=Object.values(a.data.salesTrend).map(a=>parseFloat(a.rmbData)),this.salesTrendChart_money.series[1].data=Object.values(a.data.salesTrend).map(a=>parseFloat(a.usdData)),this.purchaseTrendChart_quantity.xAxis.data=Object.keys(a.data.purchaseTrend),this.purchaseTrendChart_quantity.series[0].data=Object.values(a.data.purchaseTrend).map(a=>a.quantity_order),this.purchaseTrendChart_quantity.series[1].data=Object.values(a.data.purchaseTrend).map(a=>a.quantity_product),this.purchaseTrendChart_money.xAxis.data=Object.keys(a.data.purchaseTrend),this.purchaseTrendChart_money.series[0].data=Object.values(a.data.purchaseTrend).map(a=>parseFloat(a.price)),this.rankData.shopSalesVolumeData.data=Object.entries(a.data.shopSalesData).map(([a,t])=>({id:a,name:t.name,quantity_order:t.quantity_order,quantity_product:t.quantity_product})).sort((a,t)=>t.quantity_order-a.quantity_order).map((a,t)=>({...a,rank:t+1})),this.rankData.shopSalesRankingData.data=Object.entries(a.data.shopSalesData).map(([a,t])=>({id:a,name:t.name,rmbData:parseFloat(t.rmbData),usdData:parseFloat(t.usdData),addData:(parseFloat(t.rmbData)+parseFloat(t.usdData)*this.rate).toFixed(4)})).sort((a,t)=>t.addData-a.addData).map((a,t)=>({...a,rank:t+1})),this.rankData.operationSalesVolumeData.data=Object.entries(a.data.operationSalesgData).map(([a,t])=>({id:a,name:t.name,quantity_order:t.quantity_order,quantity_product:t.quantity_product})).sort((a,t)=>t.quantity_order-a.quantity_order).map((a,t)=>({...a,rank:t+1})),this.rankData.operationSalesRankingData.data=Object.entries(a.data.operationSalesgData).map(([a,t])=>({id:a,name:t.name,rmbData:parseFloat(t.rmbData),usdData:parseFloat(t.usdData),addData:(parseFloat(t.rmbData)+parseFloat(t.usdData)*this.rate).toFixed(4)})).sort((a,t)=>t.addData-a.addData).map((a,t)=>({...a,rank:t+1}));let t=Object.entries(a.data.ozonProductsData).map(([a,t])=>({id:a,name:t.name,offer_id:t.offer_id,sku:t.sku,quantity_product:t.quantity_product,rmbData:parseFloat(t.rmbData),usdData:parseFloat(t.usdData)})),e=t.sort((a,t)=>t.quantity_product-a.quantity_product).map((a,t)=>({...a,rank:t+1})).slice(0,20),s=t.sort((a,t)=>t.rmbData+t.usdData*this.rate-(a.rmbData+a.usdData*this.rate)).map((a,t)=>({...a,rank:t+1})).slice(0,20);console.log(s),this.topProductsChart_volume.xAxis.data=e.map(a=>a.offer_id),this.topProductsChart_volume.series[0].data=e.map(a=>a.quantity_product),this.topProductsChart_price.xAxis.data=s.map(a=>a.offer_id),this.topProductsChart_price.series[0].data=s.map(a=>(a.rmbData+a.usdData*this.rate).toFixed(4)),l["a"].success(a.msg)}).finally(()=>{this.loading=!1})}},mounted(){this.initialize()}},p=u,c=(e("13d4"),e("2877")),y=Object(c["a"])(p,s,r,!1,null,"0391b2a1",null);t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-c6fb55cc.66ff8064.js.map