{"version":3,"sources":["webpack:///./src/layouts/BaseLayout.vue?f9c6","webpack:///./src/layouts/BaseLayout.vue","webpack:///src/layouts/BaseLayout.vue","webpack:///./src/layouts/BaseLayout.vue?7a8a","webpack:///./src/layouts/BaseLayout.vue?3ab4","webpack:///./src/api/login.js"],"names":["render","_vm","this","_c","_self","staticClass","attrs","model","value","collapsed","callback","$$v","expression","isLogin","username","on","toggleCollapsed","cachedViews","staticStyle","_e","staticRenderFns","name","components","Headbar","Sidebar","TagsView","data","computed","$store","state","user","methods","initialize","Cookies","get","$router","push","userProtected","then","console","log","set","access_token","commit","logged_in_as","mounted","component","userLogin","request","url","method"],"mappings":"kHAAA,W,2CCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,WAAW,CAACA,EAAG,iBAAiB,CAACE,YAAY,UAAUC,MAAM,CAAC,MAAQ,MAAM,QAAU,KAAK,YAAc,IAAIC,MAAM,CAACC,MAAOP,EAAIQ,UAAWC,SAAS,SAAUC,GAAMV,EAAIQ,UAAUE,GAAKC,WAAW,cAAc,CAACT,EAAG,UAAU,CAACG,MAAM,CAAC,UAAYL,EAAIQ,cAAc,GAAIR,EAAIY,QAASV,EAAG,WAAW,CAACA,EAAG,kBAAkB,CAACE,YAAY,WAAW,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,UAAYL,EAAIQ,UAAU,SAAWR,EAAIa,UAAUC,GAAG,CAAC,gBAAkBd,EAAIe,oBAAoB,GAAGb,EAAG,YAAYA,EAAG,mBAAmB,CAACA,EAAG,aAAa,CAACG,MAAM,CAAC,QAAUL,EAAIgB,cAAc,CAACd,EAAG,cAAc,CAACe,YAAY,CAAC,QAAU,UAAU,IAAI,IAAI,GAAGjB,EAAIkB,MAAM,IAAI,IAE7rBC,EAAkB,G,6CC0BtB,GACAC,KAAA,aACAC,WAAA,CACAC,YAAA,gDACAC,YAAA,gDACAC,aAAA,iDAEAC,OACA,OACAb,SAAA,EACAJ,WAAA,IAGAkB,SAAA,CACAb,WACA,YAAAc,OAAAC,MAAAC,KAAAhB,WAGAiB,QAAA,CACAC,aACA,IAAAC,IAAAC,IAAA,UACA,YAAAC,QAAAC,KAAA,UAEA,KAAAvB,SAAA,EACAwB,iBAAAC,KAAAZ,IACAa,QAAAC,IAAAd,GACAO,IAAAQ,IAAA,SAAAf,EAAAgB,cACA,KAAA7B,SAAA,EACA,KAAAe,OAAAe,OAAA,UAAAjB,EAAAkB,iBAGA5B,kBACA,KAAAP,WAAA,KAAAA,YAGAoC,UACA,KAAAb,eChEmV,I,wBCQ/Uc,EAAY,eACd,EACA9C,EACAoB,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E,6CCnBf,oFAIO,SAASC,EAAUrB,GACxB,OAAOsB,eAAQ,CAAEC,IAAK,SAAUC,OAAQ,OAAQxB,SAAQ,GAInD,SAASW,EAAcX,GAC5B,OAAOsB,eAAQ,CAAEC,IAAK,aAAcC,OAAQ,MAAOxB,SAAQ,K","file":"static/js/chunk-6e610d9e.10ff6e69.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseLayout.vue?vue&type=style&index=0&id=f656f8b0&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('a-layout',[_c('a-layout-sider',{staticClass:\"sidebar\",attrs:{\"width\":\"256\",\"trigger\":null,\"collapsible\":\"\"},model:{value:(_vm.collapsed),callback:function ($$v) {_vm.collapsed=$$v},expression:\"collapsed\"}},[_c('sidebar',{attrs:{\"collapsed\":_vm.collapsed}})],1),(_vm.isLogin)?_c('a-layout',[_c('a-layout-header',{staticClass:\"headbar\"},[_c('headbar',{attrs:{\"collapsed\":_vm.collapsed,\"username\":_vm.username},on:{\"toggleCollapsed\":_vm.toggleCollapsed}})],1),_c('TagsView'),_c('a-layout-content',[_c('keep-alive',{attrs:{\"include\":_vm.cachedViews}},[_c('router-view',{staticStyle:{\"padding\":\"8px\"}})],1)],1)],1):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <a-layout>\r\n      <a-layout-sider class=\"sidebar\" width=\"256\" v-model=\"collapsed\" :trigger=\"null\" collapsible>\r\n        <sidebar :collapsed=\"collapsed\" />\r\n      </a-layout-sider>\r\n\r\n      <a-layout v-if=\"isLogin\">\r\n        <a-layout-header class=\"headbar\">\r\n          <headbar :collapsed=\"collapsed\" :username=\"username\" @toggleCollapsed=\"toggleCollapsed\" />\r\n        </a-layout-header>\r\n\r\n        <TagsView />\r\n\r\n        <a-layout-content>\r\n          <keep-alive :include=\"cachedViews\">\r\n            <router-view style=\"padding: 8px;\" />\r\n          </keep-alive>\r\n        </a-layout-content>\r\n      </a-layout>\r\n    </a-layout>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { userProtected } from '@/api/login'\r\n  import Cookies from 'js-cookie';\r\n\r\n  export default {\r\n    name: 'BaseLayout',\r\n    components: {\r\n      Headbar: () => import('@/components/Headbar/Headbar'),\r\n      Sidebar: () => import('@/components/Sidebar/Sidebar'),\r\n      TagsView: () => import('@/components/TagsView/TagsView'),\r\n    },\r\n    data() {\r\n      return {\r\n        isLogin: false,\r\n        collapsed: false\r\n      };\r\n    },\r\n    computed: {\r\n      username() {\r\n        return this.$store.state.user.username\r\n      }\r\n    },\r\n    methods: {\r\n      initialize() {\r\n        if (!Cookies.get('access')) {\r\n          return this.$router.push('/guide');\r\n        }\r\n        this.isLogin = true;\r\n        userProtected().then(data => {\r\n          console.log(data)\r\n          Cookies.set('access', data.access_token);\r\n          this.isLogin = true;\r\n          this.$store.commit('setUser', data.logged_in_as);\r\n        });\r\n      },\r\n      toggleCollapsed() {\r\n        this.collapsed = !this.collapsed;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.initialize();\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .headbar {\r\n    background: #fff;\r\n    padding: 0;\r\n    box-shadow: 0px 1px 10px #7774;\r\n  }\r\n\r\n  .sidebar {\r\n    background: #fff;\r\n    overflow: auto;\r\n    box-shadow: 1px 0px 10px #7774;\r\n  }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseLayout.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseLayout.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BaseLayout.vue?vue&type=template&id=f656f8b0&scoped=true\"\nimport script from \"./BaseLayout.vue?vue&type=script&lang=js\"\nexport * from \"./BaseLayout.vue?vue&type=script&lang=js\"\nimport style0 from \"./BaseLayout.vue?vue&type=style&index=0&id=f656f8b0&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f656f8b0\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request';\r\n\r\n\r\n// 账号登陆\r\nexport function userLogin(data) {\r\n  return request({ url: `/login`, method: 'post', data }, false)\r\n}\r\n\r\n// 账号鉴权\r\nexport function userProtected(data) {\r\n  return request({ url: `/protected`, method: 'get', data }, false)\r\n}\r\n\r\n\r\n"],"sourceRoot":""}