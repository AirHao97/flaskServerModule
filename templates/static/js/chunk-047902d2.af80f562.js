(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-047902d2"],{5684:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",[s("a-modal",{attrs:{confirmLoading:t.loading,maskClosable:!1,width:800},on:{cancel:t.cancel,ok:t.confirm},model:{value:t.visible,callback:function(s){t.visible=s},expression:"visible"}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v("用户信息")]),s("div",{staticClass:"modal-body"},[s("h3",[t._v("基本信息")]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("用户ID:")]),s("span",{staticClass:"value",staticStyle:{width:"630px"}},[t._v(" "+t._s(t.form.id)+" ")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("用户账号:")]),s("a-input",{staticStyle:{width:"630px"},model:{value:t.form.username,callback:function(s){t.$set(t.form,"username",s)},expression:"form.username"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("用户邮箱:")]),s("a-input",{staticStyle:{width:"630px"},model:{value:t.form.email,callback:function(s){t.$set(t.form,"email",s)},expression:"form.email"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("用户电话:")]),s("a-input",{staticStyle:{width:"630px"},model:{value:t.form.telephone_number,callback:function(s){t.$set(t.form,"telephone_number",s)},expression:"form.telephone_number"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("活跃:")]),s("a-radio-group",{model:{value:t.form.is_active,callback:function(s){t.$set(t.form,"is_active",s)},expression:"form.is_active"}},[s("a-radio",{attrs:{value:!0}},[t._v("是")]),s("a-radio",{attrs:{value:!1}},[t._v("否")])],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("系统管理员:")]),s("a-radio-group",{model:{value:t.form.is_admin,callback:function(s){t.$set(t.form,"is_admin",s)},expression:"form.is_admin"}},[s("a-radio",{attrs:{value:!0}},[t._v("是")]),s("a-radio",{attrs:{value:!1}},[t._v("否")])],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("部门管理员:")]),s("a-radio-group",{model:{value:t.form.is_department_admin,callback:function(s){t.$set(t.form,"is_department_admin",s)},expression:"form.is_department_admin"}},[s("a-radio",{attrs:{value:!0}},[t._v("是")]),s("a-radio",{attrs:{value:!1}},[t._v("否")])],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("小组管理员:")]),s("a-radio-group",{model:{value:t.form.is_team_admin,callback:function(s){t.$set(t.form,"is_team_admin",s)},expression:"form.is_team_admin"}},[s("a-radio",{attrs:{value:!0}},[t._v("是")]),s("a-radio",{attrs:{value:!1}},[t._v("否")])],1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("部门:")]),s("a-select",{staticStyle:{width:"215px"},attrs:{placeholder:"请选择"},on:{change:t.department_change},model:{value:t.department_id,callback:function(s){t.department_id=s},expression:"department_id"}},t._l(t.department_options,(function(a){return s("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])})),1)],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("小组:")]),s("a-select",{staticStyle:{width:"215px"},attrs:{placeholder:"请选择"},model:{value:t.team_id,callback:function(s){t.team_id=s},expression:"team_id"}},t._l(t.team_options,(function(a){return s("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])})),1)],1)]),s("h3",{staticStyle:{"margin-top":"10px"}},[t._v("角色绑定")]),t._l(t.roles,(function(a,e){return s("div",{key:a.id,staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"8px",display:"flex","align-items":"center"}},[t._v(t._s(parseInt(e)+1)+".")]),s("div",[s("div",{staticClass:"row"},[s("a-select",{staticStyle:{width:"215px"},attrs:{placeholder:"请选择"},model:{value:a.id,callback:function(s){t.$set(a,"id",s)},expression:"role.id"}},t._l(t.role_options,(function(a){return s("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])})),1),s("a-button",{staticStyle:{"margin-left":"15px",width:"100px"},attrs:{type:"danger",icon:"delete",size:"small"},on:{click:()=>t.delRoles(e)}},[t._v("删除")])],1)])])})),s("a-button",{staticStyle:{"margin-left":"500px"},attrs:{icon:"edit",size:"small"},on:{click:t.addRoles}},[t._v("新增角色")]),s("h3",{staticStyle:{"margin-top":"10px"}},[t._v("店铺绑定")]),t._l(t.shops,(function(a,e){return s("div",{key:a.id,staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"8px",display:"flex","align-items":"center"}},[t._v(t._s(parseInt(e)+1)+".")]),s("div",[s("div",{staticClass:"row"},[s("a-select",{staticStyle:{width:"215px"},attrs:{placeholder:"请选择"},model:{value:a.id,callback:function(s){t.$set(a,"id",s)},expression:"shop.id"}},t._l(t.shop_options,(function(a){return s("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])})),1),s("a-button",{staticStyle:{"margin-left":"15px",width:"100px"},attrs:{type:"danger",icon:"delete",size:"small"},on:{click:()=>t.delShops(e)}},[t._v("删除")])],1)])])})),s("a-button",{staticStyle:{"margin-left":"500px"},attrs:{icon:"edit",size:"small"},on:{click:t.addShops}},[t._v("新增管理店铺")]),s("h3",{staticStyle:{"margin-top":"10px"}},[t._v("管理ozon订单小伙伴绑定")]),t._l(t.partners_orders,(function(a,e){return s("div",{key:a.id,staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"8px",display:"flex","align-items":"center"}},[t._v(t._s(parseInt(e)+1)+".")]),s("div",[s("div",{staticClass:"row"},[s("a-select",{staticStyle:{width:"215px"},attrs:{placeholder:"请选择"},model:{value:a.id,callback:function(s){t.$set(a,"id",s)},expression:"partner_orders.id"}},t._l(t.user_options,(function(a){return s("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])})),1),s("a-button",{staticStyle:{"margin-left":"15px",width:"100px"},attrs:{type:"danger",icon:"delete",size:"small"},on:{click:()=>t.delPartnerOrders(e)}},[t._v("删除")])],1)])])})),s("a-button",{staticStyle:{"margin-left":"500px"},attrs:{icon:"edit",size:"small"},on:{click:t.addPartnerOrders}},[t._v("新增ozon订单管理小伙伴")]),s("h3",{staticStyle:{"margin-top":"10px"}},[t._v("管理系统内商品小伙伴绑定")]),t._l(t.partners_system_products,(function(a,e){return s("div",{key:a.name,staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"8px",display:"flex","align-items":"center"}},[t._v(t._s(parseInt(e)+1)+".")]),s("div",[s("div",{staticClass:"row"},[s("a-select",{staticStyle:{width:"215px"},attrs:{placeholder:"请选择"},model:{value:a.id,callback:function(s){t.$set(a,"id",s)},expression:"partner_system_products.id"}},t._l(t.user_options,(function(a){return s("a-select-option",{key:a.id,attrs:{value:a.id}},[t._v(t._s(a.name))])})),1),s("a-button",{staticStyle:{"margin-left":"15px",width:"100px"},attrs:{type:"danger",icon:"delete",size:"small"},on:{click:()=>t.delPartnerSystemProducts(e)}},[t._v("删除")])],1)])])})),s("a-button",{staticStyle:{"margin-left":"500px"},attrs:{icon:"edit",size:"small"},on:{click:t.addPartnerSystemProducts}},[t._v("新增管理系统内商品小伙伴")]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("上次登陆:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.last_login_time))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("创建时间:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.create_time))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{width:"71px"}},[t._v("修改时间:")]),s("span",{staticClass:"value",staticStyle:{width:"630px"}},[t._v(t._s(t.form.modify_time))])])])],2)])],1)},i=[],l=(a("14d9"),a("a573"),a("8593")),r=a("f64c"),n={name:"FormModal",props:["visible","form"],model:{prop:"visible",event:"cancel"},data(){return{loading:!1,role_options:[{id:"1",name:"运营"},{id:"2",name:"采购"},{id:"3",name:"打包"},{id:"4",name:"财务"}],roles:[],shop_options:[],shops:[],user_options:[],partners_orders:[],partners_system_products:[],department_options:[],department_id:"",team_options:[],team_id:""}},watch:{form:{handler(t){this.form.department&&(this.department_id=this.form.department.id),this.form.team&&(this.team_id=this.form.team.id),this.roles=this.form.roles.map(t=>({id:t.id})),this.shops=this.form.shops.map(t=>({id:t.id})),this.partners_orders=this.form.partners_orders.map(t=>({id:t.id})),this.partners_system_products=this.form.partners_system_products.map(t=>({id:t.id})),this.form.department.id?Object(l["l"])({department_id:this.form.department.id}).then(t=>{this.team_options=t.data.data.map(t=>({id:t.id,name:t.name})),this.team_options.unshift({id:"",name:"无"})}):this.team_options=[{id:"",name:"无"}]},deep:!0}},methods:{confirm(){let t={...this.form,department_id:this.department_id,team_id:this.team_id,roles:this.roles,shops:this.shops,partners_orders:this.partners_orders,partners_system_products:this.partners_system_products};console.log(t),Object(l["g"])(t).then(t=>{r["a"].success(t.msg),this.$emit("update",!1)})},cancel(){this.$emit("cancel",!1)},addRoles(){this.roles.push({id:""})},delRoles(t){this.roles.splice(t,1)},addShops(){this.shops.push({id:""})},delShops(t){this.shops.splice(t,1)},addPartnerOrders(){this.partners_orders.push({id:""})},delPartnerOrders(t){this.partners_orders.splice(t,1)},addPartnerSystemProducts(){this.partners_system_products.push({id:""})},delPartnerSystemProducts(t){this.partners_system_products.splice(t,1)},department_change(){this.team_id="",Object(l["l"])({department_id:this.department_id}).then(t=>{this.team_options=t.data.data.map(t=>({id:t.id,name:t.name}))})}},mounted(){Object(l["o"])({start:0,limit:1e5,keyWord:""}).then(t=>{this.shop_options=t.data.data.map(t=>({id:t.id,name:t.name}))}),Object(l["q"])({start:0,limit:1e5,keyWord:""}).then(t=>{this.user_options=t.data.data.map(t=>({id:t.id,name:t.username}))}),Object(l["m"])({start:0,limit:1e5,keyWord:""}).then(t=>{this.department_options=t.data.data.map(t=>({id:t.id,name:t.name})),this.department_options.unshift({id:"",name:"无"})})}},o=n,d=(a("b193"),a("2877")),c=Object(d["a"])(o,e,i,!1,null,"6604dcbb",null);s["default"]=c.exports},b193:function(t,s,a){"use strict";a("b9fc")},b9fc:function(t,s,a){}}]);
//# sourceMappingURL=chunk-047902d2.af80f562.js.map