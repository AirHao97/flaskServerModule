{"version":3,"sources":["webpack:///./src/views/operation/ozon_order_error/index.vue","webpack:///src/views/operation/ozon_order_error/index.vue","webpack:///./src/views/operation/ozon_order_error/index.vue?6617","webpack:///./src/views/operation/ozon_order_error/index.vue?ebd3","webpack:///./src/views/operation/ozon_order_error/index.vue?a54d","webpack:///./src/api/operation.js"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","columns","items","loading","pagination","on","tableChange","scopedSlots","_u","key","fn","text","record","_l","JSON","parse","posting_numbers","postting_number","index","_v","_s","value","signed","error_words","length","role","system_product","system_sku","supplier_name","_e","purchase_link","link","msg","item","$event","openFormModal","targetItem","update","model","visible","callback","$$v","expression","staticRenderFns","name","components","FormModal","data","title","dataIndex","customRender","width","searchForm","start","limit","keyWord","status","purchase_platform","current","total","pageSize","form","importLoading","options_status","options_platform","watch","newValue","oldValue","position","list","computed","methods","initialize","getErrorPurchaseOrder","then","count","finally","search","filters","sorter","mounted","activated","component","getOzonOrderData","params","request","url","method","getDataToExcel","responseType","getOverWeightOzonOrderData","delOzonOrderOfOverWeight","auditOzonOrder","freezeOrder","unfreezeOrder","getOzonProductData","bindSystemProducts","getSystemProductData","addSystemProduct","addDataWith1688Data","modifySystemProduct","deleteSystemProduct"],"mappings":"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","file":"static/js/chunk-d5736804.aa0f6cd9.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('a-card',{attrs:{\"title\":\"采购订单管理\"}},[_c('a-row',{staticStyle:{\"margin-top\":\"12px\"}},[_c('a-table',{attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"dataSource\":_vm.items,\"rowKey\":\"id\",\"loading\":_vm.loading,\"pagination\":_vm.pagination},on:{\"change\":_vm.tableChange},scopedSlots:_vm._u([{key:\"posting_numbers\",fn:function(text, record){return _c('div',{},_vm._l((JSON.parse(record.posting_numbers)),function(postting_number,index){return _c('div',{key:index+100},[_c('span',{staticStyle:{\"font-weight\":\"700\"}},[_vm._v(_vm._s(index+1)+\".\")]),_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(\" \"+_vm._s(postting_number.value)+\" \")]),_c('span',{staticStyle:{\"margin-left\":\"20px\",\"font-weight\":\"700\"}},[_vm._v(\"状态：\")]),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(postting_number.signed)+\" \")]),_c('hr',{staticStyle:{\"margin-top\":\"0\"}})])}),0)}},{key:\"is_back\",fn:function(text, record){return _c('div',{},[_c('div',[_c('span',[_vm._v(\" \"+_vm._s(JSON.parse(record.error_words)[JSON.parse(record.error_words).length-1].role == \"采购\"?\"未处理\":\"已处理\")+\" \")])])])}},{key:\"system_product\",fn:function(text, record){return _c('div',{},[(record.system_product)?_c('div',[_c('span',[_vm._v(\" SKU: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(record.system_product.system_sku)+\" \")]),_c('span',[_vm._v(\" 供应商: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(record.system_product.supplier_name))])]):_vm._e()])}},{key:\"system_product.purchase_link\",fn:function(text, record){return _c('div',{},[_c('div',_vm._l((JSON.parse(record.system_product.purchase_link)),function(link,index){return _c('div',{key:index+100},[_c('span',[_vm._v(_vm._s(index+1)+\"：\")]),_c('a',{attrs:{\"href\":link.link,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(`链接${index+1}号`)+\" \")]),_c('span',[_vm._v(\" \"+_vm._s(link.msg)+\" \")]),_c('hr')])}),0)])}},{key:\"action\",fn:function(value, item){return _c('div',{},[_c('a-button-group',[_c('a-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openFormModal(item)}}},[_vm._v(\"回复\")])],1)],1)}}])})],1)],1),_c('form-modal',{attrs:{\"form\":_vm.targetItem},on:{\"update\":_vm.update},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <a-card title=\"采购订单管理\">\r\n      <!-- <a-row :gutter=\"16\">\r\n        <a-col v-if=\"mode == '批量采购模式'\" :span=\"24\" style=\"max-width: 200px; margin-bottom: 12px;\">\r\n          <a-input v-model=\"searchForm.keyWord\" placeholder=\"关键字查询..\" allowClear @pressEnter=\"search\" />\r\n        </a-col>\r\n\r\n        <a-col v-if=\"mode == '批量采购模式'\" :span=\"24\" style=\"width: 100px; margin-bottom: 12px;\">\r\n          <a-button type=\"primary\" icon=\"search\" @click=\"search\">查询</a-button>\r\n        </a-col>\r\n\r\n        <a-col v-if=\"mode == '批量采购模式'\" :span=\"24\" style=\"max-width: 200px; margin-bottom: 12px; margin-right: 10px;\">\r\n          <a-select v-model=\"searchForm.status\" placeholder=\"请选择\" style=\"width: 200px;\"> \r\n            <a-select-option v-for=\"option in options_status\" :value=\"option\" :key=\"option\">{{ option }}</a-select-option> \r\n          </a-select>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\" style=\"max-width: 200px; margin-bottom: 12px; margin-right: 10px;\">\r\n          <a-select v-model=\"searchForm.purchase_platform\" placeholder=\"请选择\" style=\"width: 200px;\"> \r\n            <a-select-option v-for=\"option in options_platform\" :value=\"option\" :key=\"option\">{{ option }}</a-select-option> \r\n          </a-select>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\" style=\"width: 100px; margin-bottom: 12px; margin-right: 40px;\">\r\n          <a-button type=\"primary\" icon=\"edit\" @click=\"changeMode\">{{mode}}</a-button>\r\n        </a-col>\r\n\r\n        <a-col v-if=\"mode == '批量采购模式'\" :span=\"24\" style=\"width: 100px; margin-bottom: 12px; margin-right: 60px;\">\r\n          <a-button type=\"primary\" icon=\"edit\" @click=\"updatePurchaseOrder\">更新待采购订单</a-button>\r\n        </a-col>\r\n\r\n        <a-col v-if=\"mode == '批量采购模式'\" :span=\"24\" style=\"width: 100px; margin-bottom: 12px; margin-right: 60px;\">\r\n          <a-button type=\"primary\" icon=\"edit\" @click=\"updatePurchaseOrdersIn1688\">1688订单信息同步</a-button>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <a-row :gutter=\"16\" v-if=\"mode == '审阅模式' && searchForm.purchase_platform == '1688'\" style=\"display: flex; align-items: center;\">\r\n        <a-col :span=\"24\" style=\"width:100px; margin-bottom: 12px;\">\r\n          <span>供货商列表：</span>\r\n        </a-col>\r\n        <a-col :span=\"24\" style=\"margin-bottom: 12px;\">\r\n          <a-button \r\n            v-for=\"item in supplier_names\" \r\n            :key=\"item\" type=\"primary\" \r\n            style=\"margin-right: 10px;\" \r\n            :class=\"{ 'selected-supplier': searchForm.supplier_name == item }\"\r\n            @click=\"getDataWithSupplier(item)\">\r\n            {{ item }}\r\n          </a-button>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <a-row :gutter=\"16\" v-if=\"mode == '审阅模式' && searchForm.purchase_platform == '1688'\" style=\"display: flex; align-items: center;\">\r\n        <a-col :span=\"24\" style=\"max-width: 400px; margin-bottom: 12px;\">\r\n          <a-input v-model=\"postingNumber\" placeholder=\"批量添加采购订单号\" allowClear @pressEnter=\"fillThePurchaseIdToAllOrder\" />\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\" style=\"width: 100px; margin-bottom: 12px;\">\r\n          <a-button type=\"primary\" icon=\"edit\" @click=\"fillThePurchaseIdToAllOrder\">确定</a-button>\r\n        </a-col>\r\n\r\n        <a-col :span=\"24\" style=\"width: 100px; margin-bottom: 12px; margin-right: 60px;\">\r\n          <a-button type=\"primary\" icon=\"edit\" @click=\"buyPurchaseProductIn1688\">一键采购</a-button>\r\n        </a-col>\r\n\r\n      </a-row> -->\r\n\r\n      <a-row style=\"margin-top: 12px;\">\r\n        <a-table size=\"small\" :columns=\"columns\" :dataSource=\"items\" rowKey=\"id\" :loading=\"loading\" :pagination=\"pagination\" @change=\"tableChange\">\r\n          <div slot=\"posting_numbers\" slot-scope=\"text, record\">\r\n            <div v-for=\" postting_number,index in JSON.parse(record.posting_numbers)\" :key=\"index+100\">\r\n              <span style=\"font-weight: 700;\">{{ index+1 }}.</span>\r\n              <span style=\"color:green\"> {{ postting_number.value }} </span>\r\n              <span style=\"margin-left:20px; font-weight: 700;\">状态：</span>\r\n              <span style=\"color:red\"> {{ postting_number.signed }} </span>\r\n              <hr style=\"margin-top: 0;\">\r\n            </div>\r\n          </div>\r\n\r\n          \r\n          <div slot=\"is_back\" slot-scope=\"text, record\">\r\n            <div>\r\n              <span> {{ JSON.parse(record.error_words)[JSON.parse(record.error_words).length-1].role == \"采购\"?\"未处理\":\"已处理\" }} </span>\r\n            </div>\r\n          </div>\r\n\r\n          <div slot=\"system_product\" slot-scope=\"text, record\">\r\n            <div v-if=\"record.system_product\">\r\n              <span> SKU: </span> <span style=\"color: red;\"> {{ record.system_product.system_sku }} </span> \r\n              <span> 供应商: </span> <span style=\"color: green;\">{{ record.system_product.supplier_name }}</span>  \r\n            </div>\r\n          </div>\r\n\r\n          <div slot=\"system_product.purchase_link\" slot-scope=\"text, record\">\r\n            <div>\r\n              <div v-for=\" link,index in JSON.parse(record.system_product.purchase_link)\" :key=\"index+100\">\r\n                <span>{{ index+1 }}：</span>\r\n                <a :href=\"link.link\" target=\"_blank\"> {{ `链接${index+1}号` }} </a>\r\n                <span> {{ link.msg }} </span>\r\n                <hr>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div slot=\"action\" slot-scope=\"value, item\">\r\n            <a-button-group>\r\n              <a-button icon=\"edit\" size=\"small\" @click=\"openFormModal(item)\">回复</a-button>\r\n            </a-button-group>\r\n          </div>\r\n        </a-table>\r\n      </a-row>\r\n    </a-card>\r\n    <form-modal v-model=\"visible\" :form=\"targetItem\" @update=\"update\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getErrorPurchaseOrder } from '@/api/operation'\r\n\r\nexport default {\r\n  name: 'Warehouse',\r\n  components: {\r\n    FormModal: () => import('./FormModal.vue')\r\n  },\r\n  data() {\r\n    return {\r\n      columns: [\r\n        {\r\n          title: '是否回复',\r\n          dataIndex: 'is_back',\r\n          scopedSlots: { customRender: 'is_back' },\r\n        },\r\n        {\r\n          title: '采购单ID',\r\n          dataIndex: 'id',\r\n          width: 150\r\n        },\r\n        {\r\n          title: '采购单号',\r\n          dataIndex: 'purchase_id',\r\n        },\r\n        {\r\n          title: '国内运单号',\r\n          dataIndex: 'posting_numbers',\r\n          scopedSlots: { customRender: 'posting_numbers' },\r\n          // width: 200\r\n        },\r\n        {\r\n          title: '待采购量',\r\n          dataIndex: 'wait_for_purchase_quantity',\r\n        },\r\n        {\r\n          title: '在篮量',\r\n          dataIndex: 'in_basket_quantity',\r\n        },\r\n        {\r\n          title: '在途量',\r\n          dataIndex: 'in_transit_quantity',\r\n        },\r\n        {\r\n          title: '库存量',\r\n          dataIndex: 'stock_quantity',\r\n        },\r\n        {\r\n          title: '出库量',\r\n          dataIndex: 'out_stock_quantity',\r\n        },\r\n        {\r\n          title: '丢失量',\r\n          dataIndex: 'loss_quantity',\r\n        },\r\n        {\r\n          title: '采购价格',\r\n          dataIndex: 'price',\r\n        },\r\n        {\r\n          title: '运费',\r\n          dataIndex: 'shipping_fee',\r\n        },\r\n        {\r\n          title: '物流状态',\r\n          dataIndex: 'logistics_status',\r\n        },\r\n        {\r\n          title: '采购平台',\r\n          dataIndex: 'purchase_platform',\r\n        },\r\n        {\r\n          title: '采购状态',\r\n          dataIndex: 'status',\r\n        },\r\n        {\r\n          title: '采购平台状态',\r\n          dataIndex: 'platform_status',\r\n        },\r\n        {\r\n          title: '运营咨询中',\r\n          dataIndex: 'is_error',\r\n          customRender: (value) => value?\"是\":\"否\",\r\n        },\r\n        {\r\n          title: '系统内商品',\r\n          dataIndex: 'system_product',\r\n          scopedSlots: { customRender: 'system_product' },\r\n          // width: 200,\r\n        },\r\n        {\r\n          title: '采购链接',\r\n          dataIndex: 'system_product.purchase_link',\r\n          scopedSlots: { customRender: 'system_product.purchase_link' },\r\n          // width: 300,\r\n        },\r\n        {\r\n          title: '操作',\r\n          dataIndex: 'action',\r\n          scopedSlots: { customRender: 'action' },\r\n          width: '156px'\r\n        },\r\n      ],\r\n      \r\n      searchForm: { start: 0, limit: 15, keyWord: \"\", status:\"全部\", purchase_platform:\"1688\"},\r\n      pagination: { current: 1, total: 0, pageSize: 15 },\r\n\r\n      loading: false,\r\n      items: [],\r\n\r\n      visible: false,\r\n      targetItem: {},\r\n      form: {},\r\n      importLoading: false,\r\n      options_status:[\"全部\",\"待采购\",\"运输中\",\"已完成\",\"有异常\",\"已作废\"],\r\n      options_platform:[\"1688\",\"pdd\",\"线下\"],\r\n\r\n    };\r\n  },\r\n  watch:{\r\n    'searchForm.purchase_platform'(newValue,oldValue){\r\n      this.loading = true;\r\n      this.pagination =  {current: 1, total: 0, pageSize: 15, position:\"bottom\" }\r\n      this.list()\r\n    },\r\n    'searchForm.status'(newValue,oldValue){\r\n      this.loading = true;\r\n      this.pagination =  {current: 1, total: 0, pageSize: 15, position:\"bottom\" }\r\n      this.list()\r\n    },\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    initialize() {\r\n      this.list();\r\n    },\r\n    list() {\r\n      this.loading = true;\r\n      getErrorPurchaseOrder(this.searchForm).then(data => {\r\n        this.pagination.total = data.data.count;\r\n        this.items = data.data.data;\r\n      }).finally(() => {\r\n        this.loading = false;\r\n      });\r\n    },\r\n\r\n    update() {\r\n      this.visible = false\r\n      this.list();\r\n    },\r\n\r\n    search() {\r\n      this.searchForm.start = 0;\r\n      this.pagination.current = 1;\r\n      this.list();\r\n    },\r\n\r\n    openFormModal(item) {\r\n      this.targetItem = { ...item };\r\n      this.visible = true;\r\n    },\r\n\r\n    tableChange(pagination, filters, sorter) {      \r\n      this.searchForm.start = (pagination.current-1)*this.pagination.pageSize;\r\n      this.pagination.current = pagination.current;\r\n      this.list();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initialize();\r\n  },\r\n  activated() {\r\n    this.initialize();\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.selected-supplier {\r\n  background-color: #40a9ff !important; /* 选中时的背景颜色 */\r\n  border-color: #40a9ff !important;\r\n  color: white !important;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6a5f0b2e&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6a5f0b2e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a5f0b2e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=6a5f0b2e&prod&scoped=true&lang=css\"","import request from '@/utils/request';\r\n\r\n// --------  ozon订单相关 -------\r\n\r\n// 获取ozon订单\r\nexport function getOzonOrderData(params) {\r\n  return request({ url: `/ozon_order/getData`, method: 'get', params })\r\n}\r\n\r\n// 获取excel\r\nexport function getDataToExcel(params) {\r\n  return request({\r\n      url: '/ozon_order/getDataToExcel',\r\n      method: 'get',\r\n      params: params,\r\n      responseType: 'blob', // 指定返回的是二进制文件\r\n  })\r\n}\r\n\r\n// 获取超重ozon订单 getOverWeightOzonOrderData\r\nexport function getOverWeightOzonOrderData(params) {\r\n  return request({ url: `/ozon_order/getOverWeightOzonOrderData`, method: 'get', params })\r\n}\r\n\r\n// 超重商品处理\r\nexport function delOzonOrderOfOverWeight(data) {\r\n  return request({ url: `/ozon_order/delOzonOrderOfOverWeight`, method: 'post', data })\r\n}\r\n\r\n// 拆分+审核ozon订单/ 审核ozon订单\r\nexport function auditOzonOrder(data) {\r\n  return request({ url: `/ozon_order/auditOrder`, method: 'post', data })\r\n}\r\n\r\n// 冻结ozon订单\r\nexport function freezeOrder(data) {\r\n  return request({ url: `/ozon_order/freezeOrder`, method: 'post', data })\r\n}\r\n\r\nexport function unfreezeOrder(data) {\r\n  return request({ url: `/ozon_order/unfreezeOrder`, method: 'post', data })\r\n}\r\n\r\n// 获取采购/打包 提问的 有问题的采购单\r\nexport function getErrorPurchaseOrder(params) {\r\n  return request({ url: `/purchase_order/operationGetErrorData`, method: 'get', params })\r\n}\r\n// 上传图片\r\nexport function uploadImage(data) {\r\n  return request({\r\n    url: `/pic/upload`,\r\n    method: 'post',\r\n    data,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n}\r\n\r\n// --------  ozon商品相关 -------\r\n\r\n// 获取ozon商品\r\nexport function getOzonProductData(params) {\r\n  return request({ url: `/ozon_product/getData`, method: 'get', params })\r\n}\r\n\r\n// ozon商品绑定系统内产品\r\nexport function bindSystemProducts(data) {\r\n  return request({ url: `/ozon_product/bindSystemProducts`, method: 'post', data })\r\n}\r\n\r\n// --------  系统内商品相关 -------\r\n\r\n// 获取系统内商品信息\r\nexport function getSystemProductData(params) {\r\n  return request({ url: `/system_product/getData`, method: 'get', params })\r\n}\r\n\r\n// 新增系统内商品\r\nexport function addSystemProduct(data) {\r\n  return request({ url: `/system_product/addData`, method: 'post', data })\r\n}\r\n\r\n// 用1688数据新增系统内商品\r\nexport function addDataWith1688Data(data) {\r\n  return request({ url: `/system_product/addDataWith1688Data`, method: 'post', data })\r\n}\r\n\r\n// 修改系统内商品\r\nexport function modifySystemProduct(data) {\r\n  return request({ url: `/system_product/modifyData`, method: 'post', data })\r\n}\r\n\r\n// 删除系统内商品\r\nexport function deleteSystemProduct(data) {\r\n  return request({ url: `/system_product/deleteData`, method: 'post', data })\r\n}"],"sourceRoot":""}