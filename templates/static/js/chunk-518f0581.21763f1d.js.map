{"version":3,"sources":["webpack:///./src/views/operation/ozon_order_over_weight/index.vue","webpack:///src/views/operation/ozon_order_over_weight/index.vue","webpack:///./src/views/operation/ozon_order_over_weight/index.vue?d5b2","webpack:///./src/views/operation/ozon_order_over_weight/index.vue?4071","webpack:///./src/utils/constant.js","webpack:///./src/views/operation/ozon_order_over_weight/index.vue?49fa","webpack:///./src/api/operation.js"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","on","search","model","value","searchForm","keyWord","callback","$$v","$set","expression","_v","dynamicColumns","filter","col","visible","items","loading","pagination","tableChange","scopedSlots","_u","key","fn","_s","text","record","_l","products","product","index","offer_id","price","quantity","item","$event","openFormModal","delOzonOrderOfOverWeightPart","targetItem","update","approval_visible","staticRenderFns","name","components","FormModal","ApprovalModal","data","columns","title","dataIndex","customRender","ozonStatus","moment","format","start","limit","current","total","pageSize","default_number","form","importLoading","options_status","options_order_way","dateRange","startOf","subtract","endOf","watch","newValue","oldValue","list","num","Number","console","log","isInteger","methods","initialize","getOverWeightOzonOrderData","JSON","stringify","map","date","then","count","finally","openApprovalFormModal","freeze","id","freezeOrder","order_id","res","$message","success","msg","unfreeze","unfreezeOrder","type","delOzonOrderOfOverWeight","del_type","mounted","activated","component","getOzonOrderData","params","request","url","method","getDataToExcel","responseType","auditOzonOrder","getErrorPurchaseOrder","getOzonProductData","bindSystemProducts","getSystemProductData","addSystemProduct","addDataWith1688Data","modifySystemProduct","deleteSystemProduct"],"mappings":"iJAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,aAAa,CAACF,EAAG,QAAQ,CAACG,YAAY,CAAC,QAAU,SAAS,CAACH,EAAG,QAAQ,CAACG,YAAY,CAAC,MAAQ,QAAQ,gBAAgB,OAAO,eAAe,SAAS,CAACH,EAAG,UAAU,CAACG,YAAY,CAAC,MAAQ,QAAQ,eAAe,QAAQD,MAAM,CAAC,YAAc,UAAU,WAAa,IAAIE,GAAG,CAAC,WAAaN,EAAIO,QAAQC,MAAM,CAACC,MAAOT,EAAIU,WAAWC,QAASC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIU,WAAY,UAAWG,IAAME,WAAW,wBAAwBb,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,UAAUE,GAAG,CAAC,MAAQN,EAAIO,SAAS,CAACP,EAAIgB,GAAG,SAAS,IAAI,GAAGd,EAAG,QAAQ,CAACG,YAAY,CAAC,aAAa,SAAS,CAACH,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,QAAQ,QAAUJ,EAAIiB,eAAeC,OAAOC,GAAOA,EAAIC,SAAS,WAAapB,EAAIqB,MAAM,OAAS,KAAK,QAAUrB,EAAIsB,QAAQ,WAAatB,EAAIuB,YAAYjB,GAAG,CAAC,OAASN,EAAIwB,aAAaC,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,YAAYC,GAAG,SAASnB,GAAO,OAAOP,EAAG,MAAM,GAAG,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQK,EAAQ,QAAU,QAAQ,CAACT,EAAIgB,GAAGhB,EAAI6B,GAAGpB,EAAQ,KAAO,UAAU,KAAK,CAACkB,IAAI,WAAWC,GAAG,SAASE,EAAMC,GAAQ,OAAO7B,EAAG,MAAM,GAAGF,EAAIgC,GAAID,EAAOE,UAAU,SAASC,EAAQC,GAAO,OAAOjC,EAAG,MAAM,CAACyB,IAAIQ,EAAQ,KAAK,CAACjC,EAAG,OAAO,CAACF,EAAIgB,GAAG,IAAIhB,EAAI6B,GAAGM,EAAQ,GAAG,QAAQjC,EAAG,OAAO,CAACF,EAAIgB,GAAG,iBAAiBhB,EAAIgB,GAAG,KAAKd,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,QAAQ,CAACL,EAAIgB,GAAG,IAAIhB,EAAI6B,GAAGK,EAAQE,UAAU,OAAOlC,EAAG,OAAO,CAACF,EAAIgB,GAAG,WAAWhB,EAAIgB,GAAG,KAAKd,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,UAAU,CAACL,EAAIgB,GAAGhB,EAAI6B,GAAGK,EAAQG,UAAUnC,EAAG,OAAO,CAACF,EAAIgB,GAAG,WAAWhB,EAAIgB,GAAG,KAAKd,EAAG,OAAO,CAACG,YAAY,CAAC,MAAQ,YAAY,CAACL,EAAIgB,GAAGhB,EAAI6B,GAAGK,EAAQI,aAAapC,EAAG,WAAU,KAAK,CAACyB,IAAI,SAASC,GAAG,SAASnB,EAAO8B,GAAM,OAAOrC,EAAG,MAAM,GAAG,CAACA,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,SAASE,GAAG,CAAC,MAAQ,SAASkC,GAAQ,OAAOxC,EAAIyC,cAAcF,MAAS,CAACvC,EAAIgB,GAAG,QAAQd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAU,SAASkC,GAAQ,OAAOxC,EAAI0C,6BAA6BH,EAAM,SAAS,CAACrC,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,UAAU,CAACJ,EAAIgB,GAAG,SAAS,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,eAAeE,GAAG,CAAC,QAAU,SAASkC,GAAQ,OAAOxC,EAAI0C,6BAA6BH,EAAM,SAAS,CAACrC,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,UAAU,CAACJ,EAAIgB,GAAG,SAAS,IAAI,IAAI,UAAU,IAAI,GAAGd,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOJ,EAAI2C,YAAYrC,GAAG,CAAC,OAASN,EAAI4C,QAAQpC,MAAM,CAACC,MAAOT,EAAIoB,QAASR,SAAS,SAAUC,GAAMb,EAAIoB,QAAQP,GAAKE,WAAW,aAAab,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAOJ,EAAI2C,YAAYrC,GAAG,CAAC,OAASN,EAAI4C,QAAQpC,MAAM,CAACC,MAAOT,EAAI6C,iBAAkBjC,SAAS,SAAUC,GAAMb,EAAI6C,iBAAiBhC,GAAKE,WAAW,uBAAuB,IAErmF+B,EAAkB,G,yDCiEP,GACfC,KAAA,YACAC,WAAA,CACAC,cAAA,gDACAC,kBAAA,iDAEAC,OACA,OACAC,QAAA,CACA,CAAAC,MAAA,OAAAC,UAAA,WAAA3B,IAAA,YACA,CAAA0B,MAAA,MAAAC,UAAA,iBAAA3B,IAAA,kBACA,CAAA0B,MAAA,QAAAC,UAAA,kBAAA3B,IAAA,mBACA,CACA0B,MAAA,OACAC,UAAA,iBACA3B,IAAA,iBACA4B,aAAA9C,GAAA+C,OAAA/C,IAEA,CACA4C,MAAA,OACAC,UAAA,mBACA3B,IAAA,mBACA4B,aAAA9C,GAAA+C,OAAA/C,IAEA,CAAA4C,MAAA,OAAAC,UAAA,cAAA3B,IAAA,eACA,CAAA0B,MAAA,OAAAC,UAAA,gBAAA3B,IAAA,iBACA,CAAA0B,MAAA,OAAAC,UAAA,qBAAA3B,IAAA,sBACA,CACA0B,MAAA,SACAC,UAAA,gBACA3B,IAAA,gBACA4B,aAAA9C,GAAAgD,IAAAhD,GAAAiD,OAAA,wBAEA,CACAL,MAAA,SACAC,UAAA,gBACA3B,IAAA,gBACA4B,aAAA9C,GAAAgD,IAAAhD,GAAAiD,OAAA,wBAEA,CAAAL,MAAA,KAAAC,UAAA,WAAA3B,IAAA,WAAAF,YAAA,CAAA8B,aAAA,aACA,CACAF,MAAA,MACAC,UAAA,QACA3B,IAAA,QACA4B,aAAA9C,OAAAsC,KAAA,SAEA,CAAAM,MAAA,KAAAC,UAAA,SAAA3B,IAAA,SAAAF,YAAA,CAAA8B,aAAA,YAGAtC,eAAA,GACAP,WAAA,CAAAiD,MAAA,EAAAC,MAAA,IACArC,WAAA,CAAAsC,QAAA,EAAAC,MAAA,EAAAC,SAAA,IACAC,eAAA,GAEA1C,SAAA,EACAD,MAAA,GACAD,SAAA,EACAyB,kBAAA,EACAF,WAAA,GACAsB,KAAA,GACAC,eAAA,EACAC,eAAA,CACA,qDACA,yCAEAC,kBAAA,CACA,WAEAC,UAAA,CACAZ,MAAAa,QAAA,OAAAC,SAAA,WACAd,MAAAe,MAAA,UAIAC,MAAA,CACA,2BAAAC,EAAAC,GACA,KAAArD,SAAA,EACA,KAAAZ,WAAAiD,MAAA,EACA,KAAApC,WAAAsC,QAAA,EACA,KAAAe,QAEA,uBAAAF,EAAAC,GACA,KAAArD,SAAA,EACA,KAAAZ,WAAAiD,MAAA,EACA,KAAApC,WAAAsC,QAAA,EACA,KAAAe,QAEAZ,eAAAU,EAAAC,GAEA,MAAAE,EAAAC,OAAAJ,GACAK,QAAAC,IAAAH,GAEAC,OAAAG,UAAAJ,GAAA,GAAAA,IACA,KAAAnE,WAAAkD,MAAAc,EACA,KAAAnD,WAAAsC,QAAA,EACA,KAAAnD,WAAAiD,MAAA,EACA,KAAApC,WAAAwC,SAAAW,EACA,KAAAE,UAIAM,QAAA,CACAC,aACA,KAAAP,QAEAA,OACA,KAAAtD,SAAA,EACA8D,eAAA,SAAA1E,WAAA,aAAAA,WAAAC,WAAA6C,cAAA,KAAA9C,WAAAC,SAAA,KAAAD,WAAAC,QAAA,UAAA0E,KAAAC,UAAA,KAAAjB,UAAAkB,IAAAC,KAAA9B,OAAA,2BACA+B,KAAAtC,IACA,KAAA5B,WAAAuC,MAAAX,OAAAuC,MACA,KAAArE,MAAA8B,cAEAwC,QAAA,KACA,KAAArE,SAAA,KAGAsB,SACA,KAAAxB,SAAA,EACA,KAAAyB,kBAAA,EACA,KAAA+B,QAEArE,SACA,KAAAG,WAAAiD,MAAA,EACA,KAAApC,WAAAsC,QAAA,EACA,KAAAe,QAEAnC,cAAAF,GACA,KAAAI,WAAA,IAAAJ,GACA,KAAAnB,SAAA,GAEAwE,sBAAArD,GACA,KAAAI,WAAA,IAAAJ,GACA,KAAAM,kBAAA,GAEAgD,OAAAC,GACAC,YAAA,CAAAC,SAAAF,IAAAL,KAAAQ,IACA,KAAAC,SAAAC,QAAAF,EAAAG,KACA,KAAAxB,UAGAyB,SAAAP,GACAQ,cAAA,CAAAN,SAAAF,IAAAL,KAAAQ,IACA,KAAAC,SAAAC,QAAAF,EAAAG,KACA,KAAAxB,UAGApD,YAAAD,GACA,KAAAb,WAAAiD,OAAApC,EAAAsC,QAAA,QAAAtC,WAAAwC,SACA,KAAAxC,WAAAsC,QAAAtC,EAAAsC,QACA,KAAAe,QAEAlC,6BAAAH,EAAAgE,GACAC,eAAA,CAAAR,SAAAzD,EAAAuD,GAAAW,SAAAF,IAAAd,KACAQ,IACA,KAAAC,SAAAC,QAAAF,EAAAG,KACA,KAAAxB,WAKA8B,UACA,KAAAvB,aAEA,KAAAlE,eAAA,KAAAmC,QAAAmC,IAAApE,IAAA,IAAAA,EAAAC,SAAA,MAEAuF,YACA,KAAAxB,eCzO4W,I,wBCQxWyB,EAAY,eACd,EACA7G,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAA8D,E,6CCnBA,QACX,mBAAqB,OACrB,sBAAwB,OACxB,iBAAmB,OACnB,uBAAyB,OACzB,cAAgB,MAChB,WAAa,MACb,UAAY,MACZ,UAAY,MACZ,YAAc,KACd,mBAAqB,SACrB,eAAiB,QACjB,iBAAmB,OACnB,aAAe,UACf,sBAAwB,MAExB,OAAO,qBACP,OAAO,wBACP,OAAO,mBACP,OAAO,yBACP,MAAM,gBACN,MAAM,aACN,MAAM,YACN,MAAM,YACN,KAAK,cACL,SAAS,qBACT,QAAQ,iBACR,OAAO,mBACP,UAAU,eACV,MAAM,wBAEN,+BAAkC,OAClC,uBAA0B,KAC1B,gBAAmB,MACnB,oBAAuB,QACvB,wBAA2B,QAC3B,mBAAsB,MACtB,6DAA8D,QAC9D,+BAAkC,SAClC,8BAAiC,OACjC,2BAA8B,OAC9B,kEAAmE,QACnE,sBAAyB,MACzB,iBAAoB,MACpB,8BAAiC,SACjC,kBAAqB,MACrB,iBAAoB,MACpB,gCAAmC,OACnC,2BAA8B,UAC9B,wBAA2B,OAC3B,uBAA0B,SAC1B,+BAAkC,SAClC,8BAAiC,OACjC,uCAA0C,SAC1C,uBAA0B,QAC1B,2BAA8B,UAC9B,eAAkB,QAElB,OAAQ,iCACR,KAAM,yBACN,MAAO,kBACP,QAAS,sBACT,QAAS,0BACT,MAAO,qBACP,QAAS,6DACT,SAAU,iCACV,OAAQ,gCACR,OAAQ,6BACR,QAAS,kEACT,MAAO,mBACP,SAAU,gCACV,MAAO,oBACP,MAAO,mBACP,OAAQ,kCACR,UAAW,6BACX,OAAQ,0BACR,SAAU,yBACV,SAAU,iCACV,OAAQ,gCACR,SAAU,yCACV,QAAS,yBACT,UAAW,6BACX,QAAS,mB,kCClFb,W,kCCAA,8gBAKO,SAASC,EAAiBC,GAC/B,OAAOC,eAAQ,CAAEC,IAAK,sBAAuBC,OAAQ,MAAOH,WAIvD,SAASI,EAAeJ,GAC7B,OAAOC,eAAQ,CACXC,IAAK,6BACLC,OAAQ,MACRH,OAAQA,EACRK,aAAc,SAKb,SAAS/B,EAA2B0B,GACzC,OAAOC,eAAQ,CAAEC,IAAK,yCAA0CC,OAAQ,MAAOH,WAI1E,SAASN,EAAyBrD,GACvC,OAAO4D,eAAQ,CAAEC,IAAK,uCAAwCC,OAAQ,OAAQ9D,SAIzE,SAASiE,EAAejE,GAC7B,OAAO4D,eAAQ,CAAEC,IAAK,yBAA0BC,OAAQ,OAAQ9D,SAI3D,SAAS4C,EAAY5C,GAC1B,OAAO4D,eAAQ,CAAEC,IAAK,0BAA2BC,OAAQ,OAAQ9D,SAG5D,SAASmD,EAAcnD,GAC5B,OAAO4D,eAAQ,CAAEC,IAAK,4BAA6BC,OAAQ,OAAQ9D,SAI9D,SAASkE,EAAsBP,GACpC,OAAOC,eAAQ,CAAEC,IAAK,wCAAyCC,OAAQ,MAAOH,WAiBzE,SAASQ,EAAmBR,GACjC,OAAOC,eAAQ,CAAEC,IAAK,wBAAyBC,OAAQ,MAAOH,WAIzD,SAASS,EAAmBpE,GACjC,OAAO4D,eAAQ,CAAEC,IAAK,mCAAoCC,OAAQ,OAAQ9D,SAMrE,SAASqE,EAAqBV,GACnC,OAAOC,eAAQ,CAAEC,IAAK,0BAA2BC,OAAQ,MAAOH,WAI3D,SAASW,EAAiBtE,GAC/B,OAAO4D,eAAQ,CAAEC,IAAK,0BAA2BC,OAAQ,OAAQ9D,SAI5D,SAASuE,EAAoBvE,GAClC,OAAO4D,eAAQ,CAAEC,IAAK,sCAAuCC,OAAQ,OAAQ9D,SAIxE,SAASwE,EAAoBxE,GAClC,OAAO4D,eAAQ,CAAEC,IAAK,6BAA8BC,OAAQ,OAAQ9D,SAI/D,SAASyE,EAAoBzE,GAClC,OAAO4D,eAAQ,CAAEC,IAAK,6BAA8BC,OAAQ,OAAQ9D,W","file":"static/js/chunk-518f0581.21763f1d.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('a-card',{attrs:{\"title\":\"ozon订单管理\"}},[_c('a-row',{staticStyle:{\"display\":\"flex\"}},[_c('a-col',{staticStyle:{\"width\":\"300px\",\"margin-bottom\":\"12px\",\"margin-right\":\"20px\"}},[_c('a-input',{staticStyle:{\"width\":\"200px\",\"margin-right\":\"10px\"},attrs:{\"placeholder\":\"关键字查询..\",\"allowClear\":\"\"},on:{\"pressEnter\":_vm.search},model:{value:(_vm.searchForm.keyWord),callback:function ($$v) {_vm.$set(_vm.searchForm, \"keyWord\", $$v)},expression:\"searchForm.keyWord\"}}),_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1)],1),_c('a-row',{staticStyle:{\"margin-top\":\"12px\"}},[_c('a-table',{attrs:{\"size\":\"small\",\"columns\":_vm.dynamicColumns.filter(col => col.visible),\"dataSource\":_vm.items,\"rowKey\":\"id\",\"loading\":_vm.loading,\"pagination\":_vm.pagination},on:{\"change\":_vm.tableChange},scopedSlots:_vm._u([{key:\"is_active\",fn:function(value){return _c('div',{},[_c('a-tag',{attrs:{\"color\":value ? 'green' : 'red'}},[_vm._v(_vm._s(value ? '激活' : '冻结'))])],1)}},{key:\"products\",fn:function(text, record){return _c('div',{},_vm._l((record.products),function(product,index){return _c('div',{key:index + 100},[_c('span',[_vm._v(\" \"+_vm._s(index + 1)+\". \")]),_c('span',[_vm._v(\" offer_id: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\" \"+_vm._s(product.offer_id)+\" \")]),_c('span',[_vm._v(\" 价格: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"green\"}},[_vm._v(_vm._s(product.price))]),_c('span',[_vm._v(\" 数量: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"skyblue\"}},[_vm._v(_vm._s(product.quantity))]),_c('hr')])}),0)}},{key:\"action\",fn:function(value, item){return _c('div',{},[_c('a-button-group',[_c('a-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openFormModal(item)}}},[_vm._v(\"查看\")]),_c('a-popconfirm',{attrs:{\"title\":\"确定保留该订单商品吗？\"},on:{\"confirm\":function($event){return _vm.delOzonOrderOfOverWeightPart(item, '保留')}}},[_c('a-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\"}},[_vm._v(\"保留\")])],1),_c('a-popconfirm',{attrs:{\"title\":\"确定退货该订单商品吗？\"},on:{\"confirm\":function($event){return _vm.delOzonOrderOfOverWeightPart(item, '退货')}}},[_c('a-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\"}},[_vm._v(\"退货\")])],1)],1)],1)}}])})],1)],1),_c('form-modal',{attrs:{\"form\":_vm.targetItem},on:{\"update\":_vm.update},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}}),_c('approval-modal',{attrs:{\"form\":_vm.targetItem},on:{\"update\":_vm.update},model:{value:(_vm.approval_visible),callback:function ($$v) {_vm.approval_visible=$$v},expression:\"approval_visible\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <a-card title=\"ozon订单管理\">\r\n      <a-row style=\"display: flex;\">\r\n\r\n        <a-col style=\"width: 300px; margin-bottom: 12px; margin-right: 20px;\">\r\n          <a-input style=\"width: 200px; margin-right: 10px\" v-model=\"searchForm.keyWord\" placeholder=\"关键字查询..\" allowClear @pressEnter=\"search\" />\r\n          <a-button type=\"primary\" icon=\"search\" @click=\"search\">查询</a-button>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <a-row style=\"margin-top: 12px;\">\r\n        <a-table\r\n          size=\"small\"\r\n          :columns=\"dynamicColumns.filter(col => col.visible)\"\r\n          :dataSource=\"items\"\r\n          rowKey=\"id\"\r\n          :loading=\"loading\"\r\n          :pagination=\"pagination\"\r\n          @change=\"tableChange\"\r\n        >\r\n          <div slot=\"is_active\" slot-scope=\"value\">\r\n            <a-tag :color=\"value ? 'green' : 'red'\">{{ value ? '激活' : '冻结' }}</a-tag>\r\n          </div>\r\n          <div slot=\"products\" slot-scope=\"text, record\">\r\n            <div v-for=\"product, index in record.products\" :key=\"index + 100\">\r\n              <span> {{ index + 1 }}. </span>\r\n              <span> offer_id: </span> <span style=\"color: red;\"> {{ product.offer_id }} </span> \r\n              <span> 价格: </span> <span style=\"color: green;\">{{ product.price }}</span> \r\n              <span> 数量: </span> <span style=\"color: skyblue;\">{{ product.quantity }}</span>\r\n              <hr />\r\n            </div>\r\n          </div>\r\n          <div slot=\"action\" slot-scope=\"value, item\">\r\n            <a-button-group>\r\n              <a-button icon=\"edit\" size=\"small\" @click=\"openFormModal(item)\">查看</a-button>\r\n              \r\n              <a-popconfirm\r\n                title=\"确定保留该订单商品吗？\"\r\n                @confirm=\"delOzonOrderOfOverWeightPart(item, '保留')\"\r\n              >\r\n                <a-button icon=\"edit\" size=\"small\">保留</a-button>\r\n              </a-popconfirm>\r\n\r\n              <a-popconfirm\r\n                title=\"确定退货该订单商品吗？\"\r\n                @confirm=\"delOzonOrderOfOverWeightPart(item, '退货')\"\r\n              >\r\n                <a-button icon=\"edit\" size=\"small\">退货</a-button>\r\n              </a-popconfirm>\r\n\r\n            </a-button-group>\r\n          </div>\r\n        </a-table>\r\n      </a-row>\r\n    </a-card>\r\n    <form-modal v-model=\"visible\" :form=\"targetItem\" @update=\"update\" />\r\n    <approval-modal v-model=\"approval_visible\" :form=\"targetItem\" @update=\"update\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\nimport { getOverWeightOzonOrderData,delOzonOrderOfOverWeight} from '@/api/operation';\r\n\r\nimport ozonStatus from '@/utils/constant';\r\n\r\nexport default {\r\n  name: 'OzonOrder',\r\n  components: {\r\n    FormModal: () => import('./FormModal.vue'),\r\n    ApprovalModal: () => import('./ApprovalFormModal.vue'),\r\n  },\r\n  data() {\r\n    return {\r\n      columns: [\r\n        { title: '订单ID', dataIndex: 'order_id', key: 'order_id' },\r\n        { title: '货件号', dataIndex: 'posting_number', key: 'posting_number' },\r\n        { title: '国际运单号', dataIndex: 'tracking_number', key: 'tracking_number' },\r\n        { \r\n          title: '货运状态', \r\n          dataIndex: 'posting_status', \r\n          key: 'posting_status',\r\n          customRender: (value) => ozonStatus[value],\r\n        },\r\n        { \r\n          title: '物流状态', \r\n          dataIndex: 'logistics_status', \r\n          key: 'logistics_status',\r\n          customRender: (value) => ozonStatus[value],\r\n        },\r\n        { title: '订单总价', dataIndex: 'total_price', key: 'total_price' },\r\n        { title: '系统状态', dataIndex: 'system_status', key: 'system_status' },\r\n        { title: '超重备注', dataIndex: 'over_weight_record', key: 'over_weight_record' },\r\n        {\r\n          title: '开始处理时间',\r\n          dataIndex: 'in_process_at',\r\n          key: 'in_process_at',\r\n          customRender: (value) => moment(value).format('YYYY-MM-DD HH:mm:ss'),\r\n        },\r\n        {\r\n          title: '必须收取时间',\r\n          dataIndex: 'shipment_date',\r\n          key: 'shipment_date',\r\n          customRender: (value) => moment(value).format('YYYY-MM-DD HH:mm:ss'),\r\n        },\r\n        { title: '产品', dataIndex: 'products', key: 'products', scopedSlots: { customRender: 'products' } },\r\n        {\r\n          title: '负责人',\r\n          dataIndex: 'owner',\r\n          key: 'owner',\r\n          customRender: (value) => (value ? value.name : '店铺未绑定'),\r\n        },\r\n        { title: '操作', dataIndex: 'action', key: 'action', scopedSlots: { customRender: 'action' } },\r\n      ],\r\n\r\n      dynamicColumns: [], // 动态列数组\r\n      searchForm: { start: 0, limit: 10},\r\n      pagination: { current: 1, total: 0, pageSize: 10 },\r\n      default_number: 10,\r\n\r\n      loading: false,\r\n      items: [],\r\n      visible: false,\r\n      approval_visible: false,\r\n      targetItem: {},\r\n      form: {},\r\n      importLoading: false,\r\n      options_status: [\r\n        \"全部\",\"已创建待审核\",\"等待国际运单号同步\",\"已审核待备货\",\"已备货待出库\",\"已出库待发货\",\r\n        \"已发货待签收\",\"仲裁中\",\"已完成\",\"未知状态\",\"已取消\",\"已冻结\"\r\n      ],\r\n      options_order_way:[\r\n        \"顺序\",\"逆序\"\r\n      ],\r\n      dateRange: [\r\n        moment().startOf(\"day\").subtract(1, \"month\"),\r\n        moment().endOf(\"day\"),\r\n      ],\r\n    };\r\n  },\r\n  watch:{\r\n    'searchForm.system_status'(newValue,oldValue){\r\n      this.loading = true;\r\n      this.searchForm.start = 0;\r\n      this.pagination.current = 1;\r\n      this.list();\r\n    },\r\n    'searchForm.order_way'(newValue,oldValue){\r\n      this.loading = true;\r\n      this.searchForm.start = 0;\r\n      this.pagination.current = 1;\r\n      this.list();\r\n    },\r\n    default_number(newValue,oldValue){\r\n\r\n      const num = Number(newValue);\r\n      console.log(num)\r\n\r\n      if (Number.isInteger(num) & num != 0){\r\n        this.searchForm.limit = newValue\r\n        this.pagination.current = 1\r\n        this.searchForm.start = 0\r\n        this.pagination.pageSize = newValue\r\n        this.list()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    initialize() {\r\n      this.list();\r\n    },\r\n    list() {\r\n      this.loading = true;\r\n      getOverWeightOzonOrderData({...this.searchForm,\"keyWord\":this.searchForm.keyWord in ozonStatus?ozonStatus[this.searchForm.keyWord]:this.searchForm.keyWord,\"dateRange\":JSON.stringify(this.dateRange.map(date => date.format('YYYY-MM-DD HH:mm:ss')))})\r\n        .then((data) => {\r\n          this.pagination.total = data.data.count;\r\n          this.items = data.data.data;\r\n        })\r\n        .finally(() => {\r\n          this.loading = false;\r\n        });\r\n    },\r\n    update() {\r\n      this.visible = false;\r\n      this.approval_visible = false;\r\n      this.list();\r\n    },\r\n    search() {\r\n      this.searchForm.start = 0;\r\n      this.pagination.current = 1;\r\n      this.list();\r\n    },\r\n    openFormModal(item) {\r\n      this.targetItem = { ...item };\r\n      this.visible = true;\r\n    },\r\n    openApprovalFormModal(item) {\r\n      this.targetItem = { ...item };\r\n      this.approval_visible = true;\r\n    },\r\n    freeze(id) {\r\n      freezeOrder({ order_id: id }).then((res) => {\r\n        this.$message.success(res.msg);\r\n        this.list();\r\n      });\r\n    },\r\n    unfreeze(id) {\r\n      unfreezeOrder({ order_id: id }).then((res) => {\r\n        this.$message.success(res.msg);\r\n        this.list();\r\n      });\r\n    },\r\n    tableChange(pagination) {\r\n      this.searchForm.start = (pagination.current - 1) * this.pagination.pageSize;\r\n      this.pagination.current = pagination.current;\r\n      this.list();\r\n    },\r\n    delOzonOrderOfOverWeightPart(item,type){\r\n      delOzonOrderOfOverWeight({order_id:item.id, del_type:type}).then(\r\n        res => {\r\n          this.$message.success(res.msg);\r\n          this.list();\r\n        }\r\n      )\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initialize();\r\n    // 初始化动态列\r\n    this.dynamicColumns = this.columns.map((col) => ({ ...col, visible: true }));\r\n  },\r\n  activated() {\r\n    this.initialize();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.drag-handle {\r\n  cursor: grab;\r\n}\r\n.drag-handle:active {\r\n  cursor: grabbing;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0abdd460\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0abdd460&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\r\n    \"awaiting_packaging\":\"等待包装\",\r\n    \"awaiting_registration\":\"等待注册\",\r\n    \"awaiting_deliver\":\"等待装运\",\r\n    \"acceptance_in_progress\":\"正在验收\",\r\n    \"driver_pickup\":\"司机处\",\r\n    \"delivering\":\"运输中\",\r\n    \"cancelled\":\"已取消\",\r\n    \"delivered\":\"已完成\",\r\n    \"arbitration\":\"仲裁\",\r\n    \"client_arbitration\":\"快递客户仲裁\",\r\n    \"sent_by_seller\":\"由卖家发货\",\r\n    \"awaiting_approve\":\"等待确认\",\r\n    \"not_accepted\":\"分拣中心未接受\",\r\n    \"awaiting_verification\":\"已创建\",\r\n\r\n    \"等待包装\":\"awaiting_packaging\",\r\n    \"等待注册\":\"awaiting_registration\",\r\n    \"等待装运\":\"awaiting_deliver\",\r\n    \"正在验收\":\"acceptance_in_progress\",\r\n    \"司机处\":\"driver_pickup\",\r\n    \"运输中\":\"delivering\",\r\n    \"已取消\":\"cancelled\",\r\n    \"已完成\":\"delivered\",\r\n    \"仲裁\":\"arbitration\",\r\n    \"快递客户仲裁\":\"client_arbitration\",\r\n    \"由卖家发货\":\"sent_by_seller\",\r\n    \"等待确认\":\"awaiting_approve\",\r\n    \"分拣中心未接受\":\"not_accepted\",\r\n    \"已创建\":\"awaiting_verification\",\r\n\r\n    \"posting_acceptance_in_progress\": \"正在验收\",\r\n    \"posting_in_arbitration\": \"仲裁\",\r\n    \"posting_created\": \"已创建\",\r\n    \"posting_in_carriage\": \"在运输途中\",\r\n    \"posting_not_in_carriage\": \"未在运输中\",\r\n    \"posting_registered\": \"已登记\",\r\n    \"posting_transferring_to_delivery (status=awaiting_deliver)\": \"移交给快递\",\r\n    \"posting_awaiting_passport_data\": \"等待护照资料\",\r\n    \"posting_awaiting_registration\": \"等待注册\",\r\n    \"posting_registration_error\": \"注册错误\",\r\n    \"posting_transferring_to_delivery (status=awaiting_registration)\": \"交给快递员\",\r\n    \"posting_split_pending\": \"已创建\",\r\n    \"posting_canceled\": \"已取消\",\r\n    \"posting_in_client_arbitration\": \"快递会员仲裁\",\r\n    \"posting_delivered\": \"已送达\",\r\n    \"posting_received\": \"已收到\",\r\n    \"posting_conditionally_delivered\": \"暂时送到\",\r\n    \"posting_in_courier_service\": \"快递员正在路上\",\r\n    \"posting_in_pickup_point\": \"在取货点\",\r\n    \"posting_on_way_to_city\": \"发往城市途中\",\r\n    \"posting_on_way_to_pickup_point\": \"正发往取货点\",\r\n    \"posting_returned_to_warehouse\": \"返回仓库\",\r\n    \"posting_transferred_to_courier_service\": \"转交给快递员\",\r\n    \"posting_driver_pick_up\": \"在司机那儿\",\r\n    \"posting_not_in_sort_center\": \"集散中心未收到\",\r\n    \"sent_by_seller\": \"由卖家发送\",\r\n\r\n    \"正在验收\": \"posting_acceptance_in_progress\",\r\n    \"仲裁\": \"posting_in_arbitration\",\r\n    \"已创建\": \"posting_created\",\r\n    \"在运输途中\": \"posting_in_carriage\",\r\n    \"未在运输中\": \"posting_not_in_carriage\",\r\n    \"已登记\": \"posting_registered\",\r\n    \"移交给快递\": \"posting_transferring_to_delivery (status=awaiting_deliver)\",\r\n    \"等待护照资料\": \"posting_awaiting_passport_data\",\r\n    \"等待注册\": \"posting_awaiting_registration\",\r\n    \"注册错误\": \"posting_registration_error\",\r\n    \"交给快递员\": \"posting_transferring_to_delivery (status=awaiting_registration)\",\r\n    \"已取消\": \"posting_canceled\",\r\n    \"快递会员仲裁\": \"posting_in_client_arbitration\",\r\n    \"已送达\": \"posting_delivered\",\r\n    \"已收到\": \"posting_received\",\r\n    \"暂时送到\": \"posting_conditionally_delivered\",\r\n    \"快递员正在路上\": \"posting_in_courier_service\",\r\n    \"在取货点\": \"posting_in_pickup_point\",\r\n    \"发往城市途中\": \"posting_on_way_to_city\",\r\n    \"正发往取货点\": \"posting_on_way_to_pickup_point\",\r\n    \"返回仓库\": \"posting_returned_to_warehouse\",\r\n    \"转交给快递员\": \"posting_transferred_to_courier_service\",\r\n    \"在司机那儿\": \"posting_driver_pick_up\",\r\n    \"集散中心未收到\": \"posting_not_in_sort_center\",\r\n    \"由卖家发送\": \"sent_by_seller\"\r\n\r\n\r\n}\r\n    \r\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0abdd460&prod&lang=css\"","import request from '@/utils/request';\r\n\r\n// --------  ozon订单相关 -------\r\n\r\n// 获取ozon订单\r\nexport function getOzonOrderData(params) {\r\n  return request({ url: `/ozon_order/getData`, method: 'get', params })\r\n}\r\n\r\n// 获取excel\r\nexport function getDataToExcel(params) {\r\n  return request({\r\n      url: '/ozon_order/getDataToExcel',\r\n      method: 'get',\r\n      params: params,\r\n      responseType: 'blob', // 指定返回的是二进制文件\r\n  })\r\n}\r\n\r\n// 获取超重ozon订单 getOverWeightOzonOrderData\r\nexport function getOverWeightOzonOrderData(params) {\r\n  return request({ url: `/ozon_order/getOverWeightOzonOrderData`, method: 'get', params })\r\n}\r\n\r\n// 超重商品处理\r\nexport function delOzonOrderOfOverWeight(data) {\r\n  return request({ url: `/ozon_order/delOzonOrderOfOverWeight`, method: 'post', data })\r\n}\r\n\r\n// 拆分+审核ozon订单/ 审核ozon订单\r\nexport function auditOzonOrder(data) {\r\n  return request({ url: `/ozon_order/auditOrder`, method: 'post', data })\r\n}\r\n\r\n// 冻结ozon订单\r\nexport function freezeOrder(data) {\r\n  return request({ url: `/ozon_order/freezeOrder`, method: 'post', data })\r\n}\r\n\r\nexport function unfreezeOrder(data) {\r\n  return request({ url: `/ozon_order/unfreezeOrder`, method: 'post', data })\r\n}\r\n\r\n// 获取采购/打包 提问的 有问题的采购单\r\nexport function getErrorPurchaseOrder(params) {\r\n  return request({ url: `/purchase_order/operationGetErrorData`, method: 'get', params })\r\n}\r\n// 上传图片\r\nexport function uploadImage(data) {\r\n  return request({\r\n    url: `/pic/upload`,\r\n    method: 'post',\r\n    data,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n}\r\n\r\n// --------  ozon商品相关 -------\r\n\r\n// 获取ozon商品\r\nexport function getOzonProductData(params) {\r\n  return request({ url: `/ozon_product/getData`, method: 'get', params })\r\n}\r\n\r\n// ozon商品绑定系统内产品\r\nexport function bindSystemProducts(data) {\r\n  return request({ url: `/ozon_product/bindSystemProducts`, method: 'post', data })\r\n}\r\n\r\n// --------  系统内商品相关 -------\r\n\r\n// 获取系统内商品信息\r\nexport function getSystemProductData(params) {\r\n  return request({ url: `/system_product/getData`, method: 'get', params })\r\n}\r\n\r\n// 新增系统内商品\r\nexport function addSystemProduct(data) {\r\n  return request({ url: `/system_product/addData`, method: 'post', data })\r\n}\r\n\r\n// 用1688数据新增系统内商品\r\nexport function addDataWith1688Data(data) {\r\n  return request({ url: `/system_product/addDataWith1688Data`, method: 'post', data })\r\n}\r\n\r\n// 修改系统内商品\r\nexport function modifySystemProduct(data) {\r\n  return request({ url: `/system_product/modifyData`, method: 'post', data })\r\n}\r\n\r\n// 删除系统内商品\r\nexport function deleteSystemProduct(data) {\r\n  return request({ url: `/system_product/deleteData`, method: 'post', data })\r\n}"],"sourceRoot":""}