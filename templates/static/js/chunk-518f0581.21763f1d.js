(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-518f0581"],{"33c7":function(t,e,i){"use strict";i.r(e);i("0643"),i("2382");var r=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{title:"ozon订单管理"}},[e("a-row",{staticStyle:{display:"flex"}},[e("a-col",{staticStyle:{width:"300px","margin-bottom":"12px","margin-right":"20px"}},[e("a-input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"关键字查询..",allowClear:""},on:{pressEnter:t.search},model:{value:t.searchForm.keyWord,callback:function(e){t.$set(t.searchForm,"keyWord",e)},expression:"searchForm.keyWord"}}),e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("查询")])],1)],1),e("a-row",{staticStyle:{"margin-top":"12px"}},[e("a-table",{attrs:{size:"small",columns:t.dynamicColumns.filter(t=>t.visible),dataSource:t.items,rowKey:"id",loading:t.loading,pagination:t.pagination},on:{change:t.tableChange},scopedSlots:t._u([{key:"is_active",fn:function(i){return e("div",{},[e("a-tag",{attrs:{color:i?"green":"red"}},[t._v(t._s(i?"激活":"冻结"))])],1)}},{key:"products",fn:function(i,r){return e("div",{},t._l(r.products,(function(i,r){return e("div",{key:r+100},[e("span",[t._v(" "+t._s(r+1)+". ")]),e("span",[t._v(" offer_id: ")]),t._v(" "),e("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(i.offer_id)+" ")]),e("span",[t._v(" 价格: ")]),t._v(" "),e("span",{staticStyle:{color:"green"}},[t._v(t._s(i.price))]),e("span",[t._v(" 数量: ")]),t._v(" "),e("span",{staticStyle:{color:"skyblue"}},[t._v(t._s(i.quantity))]),e("hr")])})),0)}},{key:"action",fn:function(i,r){return e("div",{},[e("a-button-group",[e("a-button",{attrs:{icon:"edit",size:"small"},on:{click:function(e){return t.openFormModal(r)}}},[t._v("查看")]),e("a-popconfirm",{attrs:{title:"确定保留该订单商品吗？"},on:{confirm:function(e){return t.delOzonOrderOfOverWeightPart(r,"保留")}}},[e("a-button",{attrs:{icon:"edit",size:"small"}},[t._v("保留")])],1),e("a-popconfirm",{attrs:{title:"确定退货该订单商品吗？"},on:{confirm:function(e){return t.delOzonOrderOfOverWeightPart(r,"退货")}}},[e("a-button",{attrs:{icon:"edit",size:"small"}},[t._v("退货")])],1)],1)],1)}}])})],1)],1),e("form-modal",{attrs:{form:t.targetItem},on:{update:t.update},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}}),e("approval-modal",{attrs:{form:t.targetItem},on:{update:t.update},model:{value:t.approval_visible,callback:function(e){t.approval_visible=e},expression:"approval_visible"}})],1)},n=[],a=(i("a573"),i("c1df")),o=i.n(a),s=i("c356"),c=i("60fe"),d={name:"OzonOrder",components:{FormModal:()=>i.e("chunk-5d83bb80").then(i.bind(null,"eaaa")),ApprovalModal:()=>i.e("chunk-c3769c04").then(i.bind(null,"733b"))},data(){return{columns:[{title:"订单ID",dataIndex:"order_id",key:"order_id"},{title:"货件号",dataIndex:"posting_number",key:"posting_number"},{title:"国际运单号",dataIndex:"tracking_number",key:"tracking_number"},{title:"货运状态",dataIndex:"posting_status",key:"posting_status",customRender:t=>c["a"][t]},{title:"物流状态",dataIndex:"logistics_status",key:"logistics_status",customRender:t=>c["a"][t]},{title:"订单总价",dataIndex:"total_price",key:"total_price"},{title:"系统状态",dataIndex:"system_status",key:"system_status"},{title:"超重备注",dataIndex:"over_weight_record",key:"over_weight_record"},{title:"开始处理时间",dataIndex:"in_process_at",key:"in_process_at",customRender:t=>o()(t).format("YYYY-MM-DD HH:mm:ss")},{title:"必须收取时间",dataIndex:"shipment_date",key:"shipment_date",customRender:t=>o()(t).format("YYYY-MM-DD HH:mm:ss")},{title:"产品",dataIndex:"products",key:"products",scopedSlots:{customRender:"products"}},{title:"负责人",dataIndex:"owner",key:"owner",customRender:t=>t?t.name:"店铺未绑定"},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],dynamicColumns:[],searchForm:{start:0,limit:10},pagination:{current:1,total:0,pageSize:10},default_number:10,loading:!1,items:[],visible:!1,approval_visible:!1,targetItem:{},form:{},importLoading:!1,options_status:["全部","已创建待审核","等待国际运单号同步","已审核待备货","已备货待出库","已出库待发货","已发货待签收","仲裁中","已完成","未知状态","已取消","已冻结"],options_order_way:["顺序","逆序"],dateRange:[o()().startOf("day").subtract(1,"month"),o()().endOf("day")]}},watch:{"searchForm.system_status"(t,e){this.loading=!0,this.searchForm.start=0,this.pagination.current=1,this.list()},"searchForm.order_way"(t,e){this.loading=!0,this.searchForm.start=0,this.pagination.current=1,this.list()},default_number(t,e){const i=Number(t);console.log(i),Number.isInteger(i)&0!=i&&(this.searchForm.limit=t,this.pagination.current=1,this.searchForm.start=0,this.pagination.pageSize=t,this.list())}},methods:{initialize(){this.list()},list(){this.loading=!0,Object(s["j"])({...this.searchForm,keyWord:this.searchForm.keyWord in c["a"]?c["a"][this.searchForm.keyWord]:this.searchForm.keyWord,dateRange:JSON.stringify(this.dateRange.map(t=>t.format("YYYY-MM-DD HH:mm:ss")))}).then(t=>{this.pagination.total=t.data.count,this.items=t.data.data}).finally(()=>{this.loading=!1})},update(){this.visible=!1,this.approval_visible=!1,this.list()},search(){this.searchForm.start=0,this.pagination.current=1,this.list()},openFormModal(t){this.targetItem={...t},this.visible=!0},openApprovalFormModal(t){this.targetItem={...t},this.approval_visible=!0},freeze(t){freezeOrder({order_id:t}).then(t=>{this.$message.success(t.msg),this.list()})},unfreeze(t){unfreezeOrder({order_id:t}).then(t=>{this.$message.success(t.msg),this.list()})},tableChange(t){this.searchForm.start=(t.current-1)*this.pagination.pageSize,this.pagination.current=t.current,this.list()},delOzonOrderOfOverWeightPart(t,e){Object(s["e"])({order_id:t.id,del_type:e}).then(t=>{this.$message.success(t.msg),this.list()})}},mounted(){this.initialize(),this.dynamicColumns=this.columns.map(t=>({...t,visible:!0}))},activated(){this.initialize()}},_=d,p=(i("6311"),i("2877")),u=Object(p["a"])(_,r,n,!1,null,null,null);e["default"]=u.exports},"60fe":function(t,e,i){"use strict";e["a"]={awaiting_packaging:"等待包装",awaiting_registration:"等待注册",awaiting_deliver:"等待装运",acceptance_in_progress:"正在验收",driver_pickup:"司机处",delivering:"运输中",cancelled:"已取消",delivered:"已完成",arbitration:"仲裁",client_arbitration:"快递客户仲裁",sent_by_seller:"由卖家发货",awaiting_approve:"等待确认",not_accepted:"分拣中心未接受",awaiting_verification:"已创建","等待包装":"awaiting_packaging","等待注册":"awaiting_registration","等待装运":"awaiting_deliver","正在验收":"acceptance_in_progress","司机处":"driver_pickup","运输中":"delivering","已取消":"cancelled","已完成":"delivered","仲裁":"arbitration","快递客户仲裁":"client_arbitration","由卖家发货":"sent_by_seller","等待确认":"awaiting_approve","分拣中心未接受":"not_accepted","已创建":"awaiting_verification",posting_acceptance_in_progress:"正在验收",posting_in_arbitration:"仲裁",posting_created:"已创建",posting_in_carriage:"在运输途中",posting_not_in_carriage:"未在运输中",posting_registered:"已登记","posting_transferring_to_delivery (status=awaiting_deliver)":"移交给快递",posting_awaiting_passport_data:"等待护照资料",posting_awaiting_registration:"等待注册",posting_registration_error:"注册错误","posting_transferring_to_delivery (status=awaiting_registration)":"交给快递员",posting_split_pending:"已创建",posting_canceled:"已取消",posting_in_client_arbitration:"快递会员仲裁",posting_delivered:"已送达",posting_received:"已收到",posting_conditionally_delivered:"暂时送到",posting_in_courier_service:"快递员正在路上",posting_in_pickup_point:"在取货点",posting_on_way_to_city:"发往城市途中",posting_on_way_to_pickup_point:"正发往取货点",posting_returned_to_warehouse:"返回仓库",posting_transferred_to_courier_service:"转交给快递员",posting_driver_pick_up:"在司机那儿",posting_not_in_sort_center:"集散中心未收到",sent_by_seller:"由卖家发送","正在验收":"posting_acceptance_in_progress","仲裁":"posting_in_arbitration","已创建":"posting_created","在运输途中":"posting_in_carriage","未在运输中":"posting_not_in_carriage","已登记":"posting_registered","移交给快递":"posting_transferring_to_delivery (status=awaiting_deliver)","等待护照资料":"posting_awaiting_passport_data","等待注册":"posting_awaiting_registration","注册错误":"posting_registration_error","交给快递员":"posting_transferring_to_delivery (status=awaiting_registration)","已取消":"posting_canceled","快递会员仲裁":"posting_in_client_arbitration","已送达":"posting_delivered","已收到":"posting_received","暂时送到":"posting_conditionally_delivered","快递员正在路上":"posting_in_courier_service","在取货点":"posting_in_pickup_point","发往城市途中":"posting_on_way_to_city","正发往取货点":"posting_on_way_to_pickup_point","返回仓库":"posting_returned_to_warehouse","转交给快递员":"posting_transferred_to_courier_service","在司机那儿":"posting_driver_pick_up","集散中心未收到":"posting_not_in_sort_center","由卖家发送":"sent_by_seller"}},6311:function(t,e,i){"use strict";i("c620")},c356:function(t,e,i){"use strict";i.d(e,"k",(function(){return n})),i.d(e,"h",(function(){return a})),i.d(e,"j",(function(){return o})),i.d(e,"e",(function(){return s})),i.d(e,"c",(function(){return c})),i.d(e,"g",(function(){return d})),i.d(e,"o",(function(){return _})),i.d(e,"i",(function(){return p})),i.d(e,"l",(function(){return u})),i.d(e,"d",(function(){return l})),i.d(e,"m",(function(){return g})),i.d(e,"b",(function(){return m})),i.d(e,"a",(function(){return h})),i.d(e,"n",(function(){return f})),i.d(e,"f",(function(){return v}));var r=i("b775");function n(t){return Object(r["a"])({url:"/ozon_order/getData",method:"get",params:t})}function a(t){return Object(r["a"])({url:"/ozon_order/getDataToExcel",method:"get",params:t,responseType:"blob"})}function o(t){return Object(r["a"])({url:"/ozon_order/getOverWeightOzonOrderData",method:"get",params:t})}function s(t){return Object(r["a"])({url:"/ozon_order/delOzonOrderOfOverWeight",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/ozon_order/auditOrder",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/ozon_order/freezeOrder",method:"post",data:t})}function _(t){return Object(r["a"])({url:"/ozon_order/unfreezeOrder",method:"post",data:t})}function p(t){return Object(r["a"])({url:"/purchase_order/operationGetErrorData",method:"get",params:t})}function u(t){return Object(r["a"])({url:"/ozon_product/getData",method:"get",params:t})}function l(t){return Object(r["a"])({url:"/ozon_product/bindSystemProducts",method:"post",data:t})}function g(t){return Object(r["a"])({url:"/system_product/getData",method:"get",params:t})}function m(t){return Object(r["a"])({url:"/system_product/addData",method:"post",data:t})}function h(t){return Object(r["a"])({url:"/system_product/addDataWith1688Data",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/system_product/modifyData",method:"post",data:t})}function v(t){return Object(r["a"])({url:"/system_product/deleteData",method:"post",data:t})}},c620:function(t,e,i){}}]);
//# sourceMappingURL=chunk-518f0581.21763f1d.js.map