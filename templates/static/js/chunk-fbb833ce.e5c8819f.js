(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fbb833ce"],{"2a9e":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",[a("a-modal",{attrs:{confirmLoading:t.loading,maskClosable:!1,width:800},on:{cancel:t.cancel,ok:t.cancel},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("ozon订单称重检查")]),a("div",{staticClass:"modal-body"},[a("a-row",{attrs:{gutter:16}},[a("a-col",{staticStyle:{width:"400px","margin-bottom":"12px"},attrs:{span:24}},[a("a-input",{ref:"package_sku",attrs:{placeholder:"麻袋sku输入..",allowClear:""},model:{value:t.package_sku,callback:function(a){t.package_sku=a},expression:"package_sku"}})],1),a("a-col",{staticStyle:{width:"100px","margin-bottom":"12px","margin-right":"20px"},attrs:{span:24}},[a("a-button",{attrs:{type:"primary",icon:"edit"},on:{click:t.addPackageWithPacker}},[t._v("新增麻袋")])],1),a("a-col",{staticStyle:{width:"100px","margin-bottom":"12px","margin-right":"20px"},attrs:{span:24}},[a("a-button",{attrs:{type:"primary",icon:"download"},on:{click:t.printPackageWithPacker}},[t._v("打印麻袋")])],1)],1),a("a-row",{attrs:{gutter:16}},[a("a-col",{staticStyle:{width:"600px","margin-bottom":"12px"},attrs:{span:24}},[a("a-input",{ref:"tracking_number",attrs:{placeholder:"ozon订单 运单号输入..",allowClear:""},on:{pressEnter:t.toWeight},model:{value:t.form.tracking_number,callback:function(a){t.$set(t.form,"tracking_number",a)},expression:"form.tracking_number"}})],1),a("a-col",{staticStyle:{width:"600px","margin-bottom":"12px"},attrs:{span:24}},[a("a-input",{ref:"weight",attrs:{placeholder:"重量输入..",allowClear:""},on:{pressEnter:t.confirm},model:{value:t.form.weight,callback:function(a){t.$set(t.form,"weight",a)},expression:"form.weight"}})],1),a("a-col",{staticStyle:{width:"100px","margin-bottom":"12px"},attrs:{span:24}},[a("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.confirm}},[t._v("确定")])],1)],1),a("a-row",{staticStyle:{"margin-bottom":"12px",display:"flex","align-items":"center",border:"1px dotted black",padding:"10px"}},[a("span",{staticClass:"label"},[t._v(" 检查结果：")]),a("span",{staticClass:"value"},[t._v(" "+t._s(t.form.value))]),"检查通过！"==t.form.value?a("a-button",{staticStyle:{"margin-left":"60px"},attrs:{type:"primary"},on:{click:t.uploadTheWeight}},[t._v(" 重量上传 ")]):t._e(),"未通过！"==t.form.value?a("a-button",{staticStyle:{"margin-left":"60px"},attrs:{type:"primary"},on:{click:t.labelTheOverWeightOzonOrderToOperation}},[t._v(" 通知运营 ")]):t._e()],1),a("a-row",{staticStyle:{"margin-bottom":"12px",display:"flex","align-items":"center",border:"1px dotted black",padding:"10px"}},[a("span",{staticClass:"label"},[t._v(" 原因分析：")]),a("span",{staticClass:"reason"},[t._v(" "+t._s(t.form.reason))])])],1)])],1)},s=[],r=(e("14d9"),e("2c667"),e("249d"),e("40e9"),e("907a"),e("986a"),e("1d02"),e("3c5d"),e("6ce5"),e("2834"),e("4ea1"),e("b7ef"),e("88a7"),e("271a"),e("5494"),e("2006")),o=e("f64c"),n={name:"FormModal",props:["visible","form"],model:{prop:"visible",event:"cancel"},data(){return{loading:!1,iframe:!1,package_sku:""}},computed:{},watch:{form:{handler(t){this.$nextTick(()=>{this.$refs.purchase_product_id.focus()})},deep:!0}},methods:{toWeight(){this.$nextTick(()=>{this.$refs.weight.focus()})},confirm(){this.loading=!0,Object(r["b"])({tracking_number:this.form.tracking_number,weight:this.form.weight}).then(t=>{this.form.reason=t.reason,this.form.value=t.value,o["a"].success(t.msg)}).finally(()=>{this.loading=!1})},labelTheOverWeightOzonOrderToOperation(){Object(r["h"])(this.form).then(t=>{o["a"].success(t.msg),this.form={}})},uploadTheWeightInOzonOrder(){Object(r["m"])({...this.form,package_sku:this.package_sku}).then(t=>{o["a"].success(t.msg),this.form={}})},cancel(){this.$emit("update")},addPackageWithPacker(){Object(r["a"])().then(t=>{this.package_sku=t.sku,o["a"].success(t.msg)})},printPackageWithPacker(){Object(r["i"])({package_sku:this.package_sku}).then(t=>{const a=t.data,e=r(a),i=URL.createObjectURL(e);0==this.iframe&&(this.iframe=document.createElement("iframe"),document.body.appendChild(this.iframe));let s=this.iframe;function r(t){const a=atob(t),e=[];for(let i=0;i<a.length;i+=1024){const t=a.slice(i,i+1024),s=new Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);e.push(new Uint8Array(s))}return new Blob(e,{type:"application/pdf"})}s.style.display="none",s.src=i,s.onload=()=>{s.contentWindow.focus(),s.contentWindow.print(),o["a"].success(t.msg)}})}}},c=n,l=(e("fe75"),e("2877")),p=Object(l["a"])(c,i,s,!1,null,"9aa76a3a",null);a["default"]=p.exports},"713a":function(t,a,e){},fe75:function(t,a,e){"use strict";e("713a")}}]);
//# sourceMappingURL=chunk-fbb833ce.e5c8819f.js.map