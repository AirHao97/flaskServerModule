(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6745b67c"],{2347:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{title:"系统功能管理"}},[e("a-row",{attrs:{gutter:16}},[e("a-col",{staticStyle:{"max-width":"200px","margin-bottom":"12px"},attrs:{span:24}},[e("a-input",{attrs:{placeholder:"关键字查询...",allowClear:""},on:{pressEnter:t.search},model:{value:t.searchForm.keyWord,callback:function(e){t.$set(t.searchForm,"keyWord",e)},expression:"searchForm.keyWord"}})],1),e("a-col",{staticStyle:{width:"100px","margin-bottom":"12px"},attrs:{span:24}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("查询")])],1),e("a-col",{staticStyle:{display:"flex",width:"360px","margin-bottom":"12px"},attrs:{span:24}},[e("a-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary",icon:"search"},on:{click:t.updateOzonOrder}},[t._v("一键更新ozon订单数据")]),e("div",{staticStyle:{display:"flex"}},[e("a-input",{staticStyle:{width:"120px"},attrs:{placeholder:"更新天数...",allowClear:""},model:{value:t.upDateDays,callback:function(e){t.upDateDays=e},expression:"upDateDays"}})],1)],1),e("a-col",{staticStyle:{width:"100px","margin-bottom":"12px","margin-right":"120px"},attrs:{span:24}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.updateOzonProduct}},[t._v("一键更新ozon商品数据")])],1),e("a-col",{staticStyle:{display:"flex",width:"500px","margin-bottom":"12px","margin-right":"60px"},attrs:{span:24}},[e("a-upload",{staticStyle:{"margin-right":"10px"},attrs:{"before-upload":t.beforeUpload,"file-list":t.fileList,"show-upload-list":!1,multiple:!1,accept:".xlsx,.xls"}},[e("a-button",{attrs:{type:"primary",icon:"upload"}},[t._v("上传 快递重量标准 Excel")])],1),t.fileName?e("div",{staticStyle:{margin:"10px 0",width:"140px",overflow:"hidden"}},[t._v(" "+t._s(t.fileName)+" ")]):t._e(),e("a-button",{attrs:{type:"primary",disabled:!t.selectedFile},on:{click:t.handleUpload}},[t._v(" 确定上传 ")])],1)],1),e("a-row",{staticStyle:{"margin-top":"12px"}},[e("a-table",{attrs:{size:"small",columns:t.columns,dataSource:t.items,rowKey:"id",loading:t.loading,pagination:t.pagination},on:{change:t.tableChange}})],1)],1),e("form-modal",{attrs:{visible:t.visible,form:t.targetItem,type:t.type},on:{update:t.update},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}})],1)},r=[],i=a("8593"),o=a("f64c"),s={name:"SystemProduct",components:{FormModal:()=>a.e("chunk-6cb3b5c1").then(a.bind(null,"b4e8"))},data(){return{columns:[{title:"日志ID",dataIndex:"id"},{title:"操作对象",dataIndex:"operate_type"},{title:"创建时间",dataIndex:"create_time"},{title:"内容描述",dataIndex:"describe"}],searchForm:{start:0,limit:15,keyWord:""},pagination:{current:1,total:0,pageSize:15},loading:!1,items:[],visible:!1,targetItem:{},form:{},type:"",upDateDays:10,selectedFile:null,fileName:"",fileList:[]}},computed:{},methods:{initialize(){this.list()},list(){this.loading=!0,Object(i["n"])(this.searchForm).then(t=>{console.log(t.data.data),this.pagination.total=t.data.count,this.items=t.data.data}).finally(()=>{this.loading=!1})},update(){this.visible=!1,this.list()},search(){this.searchForm.start=0,this.pagination.current=1,this.list()},add(){this.type="add",this.targetItem={},this.visible=!0},openFormModal(t){this.type="modify",this.targetItem={...t},this.visible=!0},destroy(t){deleteTeamData({id:t}).then(t=>{this.$message.success(t.msg),this.list()})},tableChange(t,e,a){this.searchForm.start=(t.current-1)*this.pagination.pageSize,this.pagination.current=t.current,this.list()},updateOzonOrder(){Object(i["a"])({upDateDays:this.upDateDays}).then(t=>{o["a"].success(t.msg)})},updateOzonProduct(){Object(i["b"])().then(t=>{o["a"].success(t.msg)})},beforeUpload(t){const e="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t.type||"application/vnd.ms-excel"===t.type;return e?(this.selectedFile=t,this.fileName=t.name,this.fileList=[t],!1):(this.$message.error("只能上传 Excel 文件"),!1)},async handleUpload(){this.selectedFile?Object(i["u"])(this.selectedFile).then(t=>{o["a"].success(t.msg),this.selectedFile=null,this.fileName="",this.fileList=[],this.list()}):this.$message.error("请选择文件后再上传")}},mounted(){this.initialize()},activated(){this.initialize()}},d=s,l=a("2877"),u=Object(l["a"])(d,n,r,!1,null,null,null);e["default"]=u.exports},8593:function(t,e,a){"use strict";a.d(e,"o",(function(){return r})),a.d(e,"s",(function(){return i})),a.d(e,"d",(function(){return o})),a.d(e,"i",(function(){return s})),a.d(e,"m",(function(){return d})),a.d(e,"r",(function(){return l})),a.d(e,"c",(function(){return u})),a.d(e,"h",(function(){return c})),a.d(e,"p",(function(){return p})),a.d(e,"l",(function(){return m})),a.d(e,"t",(function(){return h})),a.d(e,"e",(function(){return f})),a.d(e,"j",(function(){return b})),a.d(e,"q",(function(){return g})),a.d(e,"g",(function(){return y})),a.d(e,"f",(function(){return x})),a.d(e,"k",(function(){return D})),a.d(e,"n",(function(){return O})),a.d(e,"a",(function(){return v})),a.d(e,"b",(function(){return j})),a.d(e,"u",(function(){return w}));var n=a("b775");function r(t){return Object(n["a"])({url:"/shop/getData",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/shop/modifyData",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/shop/addData",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/shop/deleteData",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/department/getData",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/department/modifyData",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/department/addData",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/department/deleteData",method:"post",data:t})}function p(t){return Object(n["a"])({url:"/team/getData",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/team/getDataFromDepartment",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/team/modifyData",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/team/addData",method:"post",data:t})}function b(t){return Object(n["a"])({url:"/team/deleteData",method:"post",data:t})}function g(t){return Object(n["a"])({url:"/user/getData",method:"get",params:t})}function y(t){return Object(n["a"])({url:"/user/adminModifyData",method:"post",data:t})}function x(t){return Object(n["a"])({url:"/user/addData",method:"post",data:t})}function D(t){return Object(n["a"])({url:"/user/deleteData",method:"post",data:t})}function O(t){return Object(n["a"])({url:"/log/getData",method:"get",params:t})}function v(t){return Object(n["a"])({url:"/ozon_order/updataData",method:"post",data:t})}function j(t){return Object(n["a"])({url:"/ozon_product/updataData",method:"post",data:t})}function w(t){const e=new FormData;return e.append("file",t),Object(n["a"])({url:"/general/updateOzonOrdersWeightStandardWithExcel",method:"post",headers:{"Content-Type":"multipart/form-data"},data:e})}}}]);
//# sourceMappingURL=chunk-6745b67c.17ae1442.js.map