(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18afc0b0"],{"5c0f":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t._self._c;return a("div",[a("a-modal",{attrs:{confirmLoading:t.loading,maskClosable:!1,width:1200},on:{cancel:t.cancel,ok:t.confirm},model:{value:t.visible,callback:function(a){t.visible=a},expression:"visible"}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v("入库商品选择")]),a("div",{staticClass:"modal-body"},t._l(t.orders,(function(e){return a("a-row",{key:e.id,staticStyle:{"margin-bottom":"12px",display:"flex","align-items":"center"}},[a("div",{staticStyle:{"margin-right":"20px"}},[a("span",{staticClass:"label"},[t._v("产品sku:")]),a("span",{staticClass:"value",staticStyle:{"margin-right":"20px"}},[t._v(t._s(e.system_product.system_sku))])]),a("img",{staticStyle:{width:"50px",height:"50px","margin-right":"20px"},attrs:{src:e.system_product.primary_image,alt:"产品主图"}}),a("div",{staticStyle:{"margin-right":"20px"}},[a("span",{staticClass:"label"},[t._v("打包备注:")]),a("span",{staticClass:"value"},[t._v(t._s(e.system_product.purchase_mark))])]),a("div",{staticStyle:{"margin-right":"20px"}},[a("span",{staticClass:"label"},[t._v("到货数量输入:")]),a("a-input-number",{staticStyle:{"margin-left":"20px"},attrs:{min:0,placeholder:"输入数量"},model:{value:e.input_quantity,callback:function(a){t.$set(e,"input_quantity",a)},expression:"order.input_quantity"}})],1),a("div",[a("span",{staticClass:"label"},[t._v("异常留言:")]),a("a-input",{staticStyle:{"margin-left":"20px",width:"250px"},attrs:{placeholder:" 异常留言"},model:{value:e.msg,callback:function(a){t.$set(e,"msg",a)},expression:"order.msg"}})],1)])})),1)])],1)},s=[],n=(e("14d9"),e("2c667"),e("249d"),e("40e9"),e("907a"),e("986a"),e("1d02"),e("3c5d"),e("6ce5"),e("2834"),e("4ea1"),e("a573"),e("b7ef"),e("88a7"),e("271a"),e("5494"),e("2006")),l=e("f64c"),r={name:"FormModal",props:["visible","form","posting_number"],model:{prop:"visible",event:"cancel"},data(){return{loading:!1,orders:[],iframe:!1}},computed:{},watch:{form:{handler(t){this.orders=this.form?this.form.map(t=>({...t,input_quantity:0,msg:""})):[]},deep:!0,immediate:!0}},methods:{confirm(){this.loading=!0;const t=this.orders.map(t=>({id:t.id,quantity:t.input_quantity,msg:t.msg}));Object(n["j"])({purchase_order_msgs:t,posting_number:this.posting_number}).then(t=>{if(t.data){const e=t.data,i=a(e),s=URL.createObjectURL(i);0==this.iframe&&(this.iframe=document.createElement("iframe"),document.body.appendChild(this.iframe));let n=this.iframe;function a(t){const a=atob(t),e=[];for(let i=0;i<a.length;i+=1024){const t=a.slice(i,i+1024),s=new Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);e.push(new Uint8Array(s))}return new Blob(e,{type:"application/pdf"})}n.style.display="none",n.src=s,n.onload=()=>{n.contentWindow.print(),l["a"].success(t.msg),this.$emit("update")}}else l["a"].success(t.msg),this.$emit("update")}).finally(()=>{this.loading=!1})},cancel(){this.$emit("update")}}},c=r,o=(e("a4c1"),e("2877")),d=Object(o["a"])(c,i,s,!1,null,"2c39bab0",null);a["default"]=d.exports},a4c1:function(t,a,e){"use strict";e("d7b3")},d7b3:function(t,a,e){}}]);
//# sourceMappingURL=chunk-18afc0b0.85cb6d6e.js.map