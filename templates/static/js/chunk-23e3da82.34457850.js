(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23e3da82"],{"0fec":function(t,s,a){},"1e5a":function(t,s,a){"use strict";var e=a("23e7"),i=a("9961"),r=a("dad2");e({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:i})},"1e70":function(t,s,a){"use strict";var e=a("23e7"),i=a("a5f7"),r=a("dad2");e({target:"Set",proto:!0,real:!0,forced:!r("difference")},{difference:i})},"384f":function(t,s,a){"use strict";var e=a("e330"),i=a("5388"),r=a("cb27"),n=r.Set,c=r.proto,o=e(c.forEach),l=e(c.keys),u=l(new n).next;t.exports=function(t,s,a){return a?i({iterator:l(t),next:u},s):o(t,s)}},"395e":function(t,s,a){"use strict";var e=a("dc19"),i=a("cb27").has,r=a("8e16"),n=a("7f65"),c=a("5388"),o=a("2a62");t.exports=function(t){var s=e(this),a=n(t);if(r(s)<a.size)return!1;var l=a.getIterator();return!1!==c(l,(function(t){if(!i(s,t))return o(l,"normal",!1)}))}},"4e3e":function(t,s,a){"use strict";a("7d54")},5388:function(t,s,a){"use strict";var e=a("c65b");t.exports=function(t,s,a){var i,r,n=a?t:t.iterator,c=t.next;while(!(i=e(c,n)).done)if(r=s(i.value),void 0!==r)return r}},"68df":function(t,s,a){"use strict";var e=a("dc19"),i=a("8e16"),r=a("384f"),n=a("7f65");t.exports=function(t){var s=e(this),a=n(t);return!(i(s)>a.size)&&!1!==r(s,(function(t){if(!a.includes(t))return!1}),!0)}},7282:function(t,s,a){"use strict";var e=a("e330"),i=a("59ed");t.exports=function(t,s,a){try{return e(i(Object.getOwnPropertyDescriptor(t,s)[a]))}catch(r){}}},"72c3":function(t,s,a){"use strict";var e=a("23e7"),i=a("e9bc"),r=a("dad2");e({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:i})},"79a4":function(t,s,a){"use strict";var e=a("23e7"),i=a("d039"),r=a("953b"),n=a("dad2"),c=!n("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));e({target:"Set",proto:!0,real:!0,forced:c},{intersection:r})},"7d54":function(t,s,a){"use strict";var e=a("23e7"),i=a("2266"),r=a("59ed"),n=a("825a"),c=a("46c4");e({target:"Iterator",proto:!0,real:!0},{forEach:function(t){n(this),r(t);var s=c(this),a=0;i(s,(function(s){t(s,a++)}),{IS_RECORD:!0})}})},"7f65":function(t,s,a){"use strict";var e=a("59ed"),i=a("825a"),r=a("c65b"),n=a("5926"),c=a("46c4"),o="Invalid size",l=RangeError,u=TypeError,d=Math.max,p=function(t,s){this.set=t,this.size=d(s,0),this.has=e(t.has),this.keys=e(t.keys)};p.prototype={getIterator:function(){return c(i(r(this.keys,this.set)))},includes:function(t){return r(this.has,this.set,t)}},t.exports=function(t){i(t);var s=+t.size;if(s!==s)throw new u(o);var a=n(s);if(a<0)throw new l(o);return new p(t,a)}},"83b9":function(t,s,a){"use strict";var e=a("cb27"),i=a("384f"),r=e.Set,n=e.add;t.exports=function(t){var s=new r;return i(t,(function(t){n(s,t)})),s}},"8b00":function(t,s,a){"use strict";var e=a("23e7"),i=a("68df"),r=a("dad2");e({target:"Set",proto:!0,real:!0,forced:!r("isSubsetOf")},{isSubsetOf:i})},"8e16":function(t,s,a){"use strict";var e=a("7282"),i=a("cb27");t.exports=e(i.proto,"size","get")||function(t){return t.size}},"953b":function(t,s,a){"use strict";var e=a("dc19"),i=a("cb27"),r=a("8e16"),n=a("7f65"),c=a("384f"),o=a("5388"),l=i.Set,u=i.add,d=i.has;t.exports=function(t){var s=e(this),a=n(t),i=new l;return r(s)>a.size?o(a.getIterator(),(function(t){d(s,t)&&u(i,t)})):c(s,(function(t){a.includes(t)&&u(i,t)})),i}},9961:function(t,s,a){"use strict";var e=a("dc19"),i=a("cb27"),r=a("83b9"),n=a("7f65"),c=a("5388"),o=i.add,l=i.has,u=i.remove;t.exports=function(t){var s=e(this),a=n(t).getIterator(),i=r(s);return c(a,(function(t){l(s,t)?u(i,t):o(i,t)})),i}},"9d84":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",[s("a-modal",{attrs:{confirmLoading:t.loading,maskClosable:!1,width:800},on:{cancel:t.cancel,ok:t.confirm},model:{value:t.visible,callback:function(s){t.visible=s},expression:"visible"}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v("订单审核")]),s("div",{staticClass:"modal-body"},[s("h3",[t._v("基本信息")]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("订单ID:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.order_id))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("订单号:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.order_number))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("货件号:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.posting_number))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("运单号:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.tracking_number?t.form.tracking_number:"暂无"))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("系统状态:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.system_status?t.form.system_status:"暂无"))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("开始处理时间:")]),s("span",{staticClass:"value"},[t._v(t._s(t.in_process_at_time?t.in_process_at_time:"暂无"))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("必须收取时间:")]),s("span",{staticClass:"value"},[t._v(t._s(t.shipment_date?t.shipment_date:"暂无"))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("订单总价:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.total_price))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("价格货币:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.currency_code))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("店铺名称:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.shop?t.form.shop.name:"暂无"))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("负责人员:")]),s("span",{staticClass:"value"},[t._v(t._s(t.form.owner?t.form.owner.name:"暂无"))])])]),s("h3",{staticStyle:{"margin-top":"10px"}},[t._v("产品信息")]),t._l(t.form.products,(function(a,e){return s("div",{key:e,staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"8px"}},[t._v(t._s(e+1)+".")]),s("div",[s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("产品名称:")]),s("span",{staticClass:"value"},[t._v(t._s(a.name))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("offer_id:")]),s("span",{staticClass:"value"},[t._v(t._s(a.offer_id))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("sku:")]),s("span",{staticClass:"value"},[t._v(t._s(a.sku))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("product_id:")]),s("span",{staticClass:"value"},[t._v(t._s(a.product_id))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("产品价格:")]),s("span",{staticClass:"value"},[t._v(t._s(a.price))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("产品数量:")]),s("span",{staticClass:"value"},[t._v(t._s(a.quantity))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("fbo佣金百分比:")]),s("span",{staticClass:"value"},[t._v(t._s(a.fbo_commission_percent)+"%")])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("fbo佣金额:")]),s("span",{staticClass:"value"},[t._v(t._s(a.fbo_commission_value))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("fbp佣金百分比:")]),s("span",{staticClass:"value"},[t._v(t._s(a.fbp_commission_percent)+"%")])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("fbp佣金额:")]),s("span",{staticClass:"value"},[t._v(t._s(a.fbp_commission_value))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("fbs佣金百分比:")]),s("span",{staticClass:"value"},[t._v(t._s(a.fbs_commission_percent)+"%")])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("fbs佣金额:")]),s("span",{staticClass:"value"},[t._v(t._s(a.fbs_commission_value))])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("rfbs佣金百分比:")]),s("span",{staticClass:"value"},[t._v(t._s(a.rfbs_commission_percent)+"%")])]),s("div",{staticClass:"columns"},[s("span",{staticClass:"label"},[t._v("rfbs佣金额:")]),s("span",{staticClass:"value"},[t._v(t._s(a.rfbs_commission_value))])])])])])})),s("h3",{staticStyle:{"margin-top":"10px"}},[t._v("产品拆分")]),t._l(t.order_packages,(function(a,e){return s("div",{key:e+100,staticStyle:{display:"flex"}},[s("span",{staticStyle:{"margin-right":"8px",display:"flex","align-items":"center"}},[t._v(t._s(e+1)+"号包裹.")]),s("div",[t._l(a.products,(function(e,i){return s("div",{key:i+1e3},[s("div",{staticClass:"row"},[s("a-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择"},on:{change:t.onChange},model:{value:e.product_id,callback:function(s){t.$set(e,"product_id",s)},expression:"product.product_id"}},t._l(t.options,(function(a){return s("a-select-option",{key:a.product_id,attrs:{value:a.product_id}},[t._v(t._s(a.offer_id))])})),1),s("div",{staticClass:"columns"},[s("span",{staticClass:"label",staticStyle:{"margin-left":"15px"}},[t._v("产品数量:")]),s("input",{directives:[{name:"model",rawName:"v-model.number",value:e.quantity,expression:"product.quantity",modifiers:{number:!0}}],domProps:{value:e.quantity},on:{input:function(s){s.target.composing||t.$set(e,"quantity",t._n(s.target.value))},blur:function(s){return t.$forceUpdate()}}})]),s("a-button",{staticStyle:{"margin-left":"15px",width:"100px"},attrs:{type:"danger",icon:"delete",size:"small"},on:{click:()=>t.delproduct(a,i)}},[t._v("删除产品")])],1)])})),s("a-button",{staticStyle:{"margin-top":"5px"},attrs:{icon:"edit",size:"small"},on:{click:()=>t.addProduct(a)}},[t._v("新增产品")]),s("a-button",{staticStyle:{"margin-top":"5px"},attrs:{type:"danger",icon:"delete",size:"small"},on:{click:()=>t.delpackage(e)}},[t._v("删除打包袋")])],2)])})),s("a-button",{staticStyle:{"margin-left":"500px"},attrs:{icon:"edit",size:"small"},on:{click:t.addPackage}},[t._v("新增打包袋")])],2)])],1)},i=[],r=(a("14d9"),a("1e70"),a("79a4"),a("c1a1"),a("8b00"),a("a4e7"),a("1e5a"),a("72c3"),a("0643"),a("4e3e"),a("a573"),a("9a9a"),a("c1df")),n=a.n(r),c=a("c356"),o=a("f64c"),l={name:"ApprovalFormMoal",props:["visible","form"],model:{prop:"visible",event:"cancel"},data(){return{loading:!1,order_packages:[]}},mounted(){},watch:{visible:{handler(t){1==t&&(this.order_packages=[{products:this.form.products.map(t=>({product_id:t.sku,quantity:t.quantity}))}])},deep:!0}},computed:{options(){let t=[];for(let s in this.form.products)t.push({offer_id:this.form.products[s]["offer_id"],product_id:this.form.products[s]["sku"]});return t},in_process_at_time(){return n()(this.form.in_process_at).format("YYYY-MM-DD HH:mm:ss")},shipment_date(){return n()(this.form.shipment_date).format("YYYY-MM-DD HH:mm:ss")}},methods:{addProduct(t){t.products.push({product_id:null,quantity:0})},addPackage(){this.order_packages.push({products:[]})},delproduct(t,s){t.products.splice(s,1)},delpackage(t){this.order_packages.splice(t,1)},confirm(){let t=!1;if(this.order_packages.some(s=>{let a=new Set;if(s.products.some(s=>s.product_id?"0"==s.quantity?(alert("产品数量不能为空！"),t=!0,!0):a.has(s.product_id)?(alert("同一包裹内不能存在多个相同产品！请检查后重试！"),t=!0,!0):void a.add(s.product_id):(alert("产品id不能为空！"),t=!0,!0)),t)return!0}),t)return;let s={};this.order_packages.forEach(t=>{t.products.forEach(t=>{s[t.product_id]?s[t.product_id]+=parseInt(t.quantity):s[t.product_id]=parseInt(t.quantity)})}),this.form.products.some(a=>{if(a["quantity"]!=s[a["sku"]])return alert(a["offer_id"]+"产品 分包总数与订单总数不一致！请检查后重试！"),t=!0,!0}),t||Object(c["c"])({posting_number:this.form.posting_number,packages:this.order_packages}).then(t=>{o["a"].success(t.msg),this.order_packages=[],this.$emit("update",!1)})},cancel(){this.order_packages=[],this.$emit("cancel",!1)}}},u=l,d=(a("9e97"),a("2877")),p=Object(d["a"])(u,e,i,!1,null,"3c1ca2fe",null);s["default"]=p.exports},"9e97":function(t,s,a){"use strict";a("0fec")},a4e7:function(t,s,a){"use strict";var e=a("23e7"),i=a("395e"),r=a("dad2");e({target:"Set",proto:!0,real:!0,forced:!r("isSupersetOf")},{isSupersetOf:i})},a5f7:function(t,s,a){"use strict";var e=a("dc19"),i=a("cb27"),r=a("83b9"),n=a("8e16"),c=a("7f65"),o=a("384f"),l=a("5388"),u=i.has,d=i.remove;t.exports=function(t){var s=e(this),a=c(t),i=r(s);return n(s)<=a.size?o(s,(function(t){a.includes(t)&&d(i,t)})):l(a.getIterator(),(function(t){u(s,t)&&d(i,t)})),i}},b4bc:function(t,s,a){"use strict";var e=a("dc19"),i=a("cb27").has,r=a("8e16"),n=a("7f65"),c=a("384f"),o=a("5388"),l=a("2a62");t.exports=function(t){var s=e(this),a=n(t);if(r(s)<=a.size)return!1!==c(s,(function(t){if(a.includes(t))return!1}),!0);var u=a.getIterator();return!1!==o(u,(function(t){if(i(s,t))return l(u,"normal",!1)}))}},c1a1:function(t,s,a){"use strict";var e=a("23e7"),i=a("b4bc"),r=a("dad2");e({target:"Set",proto:!0,real:!0,forced:!r("isDisjointFrom")},{isDisjointFrom:i})},cb27:function(t,s,a){"use strict";var e=a("e330"),i=Set.prototype;t.exports={Set:Set,add:e(i.add),has:e(i.has),remove:e(i["delete"]),proto:i}},dad2:function(t,s,a){"use strict";var e=a("d066"),i=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function(t){var s=e("Set");try{(new s)[t](i(0));try{return(new s)[t](i(-1)),!1}catch(a){return!0}}catch(r){return!1}}},dc19:function(t,s,a){"use strict";var e=a("cb27").has;t.exports=function(t){return e(t),t}},e9bc:function(t,s,a){"use strict";var e=a("dc19"),i=a("cb27").add,r=a("83b9"),n=a("7f65"),c=a("5388");t.exports=function(t){var s=e(this),a=n(t).getIterator(),o=r(s);return c(a,(function(t){i(o,t)})),o}}}]);
//# sourceMappingURL=chunk-23e3da82.34457850.js.map