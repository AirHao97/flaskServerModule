{"version":3,"sources":["webpack:///./src/views/purchaser/purchase_product/index.vue","webpack:///src/views/purchaser/purchase_product/index.vue","webpack:///./src/views/purchaser/purchase_product/index.vue?37c7","webpack:///./src/views/purchaser/purchase_product/index.vue?ecfe","webpack:///./src/api/purchaser.js"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","on","search","model","value","searchForm","keyWord","callback","$$v","$set","expression","_v","add","columns","items","loading","pagination","tableChange","scopedSlots","_u","key","fn","item","$event","openFormModal","visible","targetItem","type","update","staticRenderFns","name","components","FormModal","data","title","dataIndex","start","limit","current","total","pageSize","form","computed","methods","initialize","list","getPurchaseProductData","then","count","finally","filters","sorter","mounted","activated","component","getPurchaseOrderData","params","request","url","method","getWaitForPurchaseOrderSupplier","getDataInPurchaseMode","upDatePurchaseOrder","modifyData","operationModifyData","fillThePurchaseIdForPurchaseOrders","fillThePurchaseIdForPurchaseOrder","cancleThePurchaseOrder","updatePurchaseOrdersIn1688WithAPI","buyPurchaseProductIn1688WithAPI","uploadImage","headers","addPurchaseProduct"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACF,EAAG,QAAQ,CAACE,MAAM,CAAC,OAAS,KAAK,CAACF,EAAG,QAAQ,CAACG,YAAY,CAAC,YAAY,QAAQ,gBAAgB,QAAQD,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,YAAc,WAAW,WAAa,IAAIE,GAAG,CAAC,WAAaN,EAAIO,QAAQC,MAAM,CAACC,MAAOT,EAAIU,WAAWC,QAASC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIU,WAAY,UAAWG,IAAME,WAAW,yBAAyB,GAAGb,EAAG,QAAQ,CAACG,YAAY,CAAC,MAAQ,QAAQ,gBAAgB,QAAQD,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,UAAUE,GAAG,CAAC,MAAQN,EAAIO,SAAS,CAACP,EAAIgB,GAAG,SAAS,GAAGd,EAAG,QAAQ,CAACG,YAAY,CAAC,MAAQ,QAAQ,gBAAgB,QAAQD,MAAM,CAAC,KAAO,KAAK,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQE,GAAG,CAAC,MAAQN,EAAIiB,MAAM,CAACjB,EAAIgB,GAAG,aAAa,IAAI,GAAGd,EAAG,QAAQ,CAACG,YAAY,CAAC,aAAa,SAAS,CAACH,EAAG,UAAU,CAACE,MAAM,CAAC,KAAO,QAAQ,QAAUJ,EAAIkB,QAAQ,WAAalB,EAAImB,MAAM,OAAS,KAAK,QAAUnB,EAAIoB,QAAQ,WAAapB,EAAIqB,YAAYf,GAAG,CAAC,OAASN,EAAIsB,aAAaC,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASjB,EAAOkB,GAAM,OAAOzB,EAAG,MAAM,GAAG,CAACA,EAAG,iBAAiB,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,SAASE,GAAG,CAAC,MAAQ,SAASsB,GAAQ,OAAO5B,EAAI6B,cAAcF,MAAS,CAAC3B,EAAIgB,GAAG,SAAS,IAAI,UAAU,IAAI,GAAGd,EAAG,aAAa,CAACE,MAAM,CAAC,QAAUJ,EAAI8B,QAAQ,KAAO9B,EAAI+B,WAAW,KAAO/B,EAAIgC,MAAM1B,GAAG,CAAC,OAASN,EAAIiC,QAAQzB,MAAM,CAACC,MAAOT,EAAI8B,QAASlB,SAAS,SAAUC,GAAMb,EAAI8B,QAAQjB,GAAKE,WAAW,cAAc,IAEx/CmB,EAAkB,G,YCsCP,GACfC,KAAA,kBACAC,WAAA,CACAC,cAAA,iDAEAC,OACA,OACApB,QAAA,CACA,CACAqB,MAAA,KACAC,UAAA,MAEA,CACAD,MAAA,MACAC,UAAA,OAEA,CACAD,MAAA,KACAC,UAAA,UAEA,CACAD,MAAA,KACAC,UAAA,SAEA,CACAD,MAAA,KACAC,UAAA,QAEA,CACAD,MAAA,OACAC,UAAA,iBAEA,CACAD,MAAA,OACAC,UAAA,kBAEA,CACAD,MAAA,OACAC,UAAA,aAEA,CACAD,MAAA,QACAC,UAAA,QAEA,CACAD,MAAA,WACAC,UAAA,iBAEA,CACAD,MAAA,SACAC,UAAA,qBAEA,CACAD,MAAA,UACAC,UAAA,qBAEA,CACAD,MAAA,OACAC,UAAA,eAEA,CACAD,MAAA,OACAC,UAAA,gBAQA9B,WAAA,CAAA+B,MAAA,EAAAC,MAAA,GAAA/B,QAAA,IACAU,WAAA,CAAAsB,QAAA,EAAAC,MAAA,EAAAC,SAAA,IACAzB,SAAA,EACAD,MAAA,GAEAW,SAAA,EACAC,WAAA,GACAe,KAAA,GACAd,KAAA,KAGAe,SAAA,GAGAC,QAAA,CACAC,aACA,KAAAC,QAEAA,OACA,KAAA9B,SAAA,EACA+B,eAAA,KAAAzC,YAAA0C,KAAAd,IACA,KAAAjB,WAAAuB,MAAAN,OAAAe,MACA,KAAAlC,MAAAmB,cACAgB,QAAA,KACA,KAAAlC,SAAA,KAGAa,SACA,KAAAH,SAAA,EACA,KAAAoB,QAEA3C,SACA,KAAAG,WAAA+B,MAAA,EACA,KAAApB,WAAAsB,QAAA,EACA,KAAAO,QAEArB,cAAAF,GACA,KAAAK,KAAA,SACA,KAAAD,WAAA,IAAAJ,GACA,KAAAG,SAAA,GAEAR,YAAAD,EAAAkC,EAAAC,GACA,KAAA9C,WAAA+B,OAAApB,EAAAsB,QAAA,QAAAtB,WAAAwB,SACA,KAAAxB,WAAAsB,QAAAtB,EAAAsB,QACA,KAAAO,QAEAjC,MACA,KAAAc,WAAA,GACA,KAAAD,SAAA,IAGA2B,UACA,KAAAR,cAEAS,YACA,KAAAT,eCrK4W,I,YCOxWU,EAAY,eACd,EACA5D,EACAmC,GACA,EACA,KACA,KACA,MAIa,aAAAyB,E,2CClBf,4eAGO,SAASC,EAAqBC,GACnC,OAAOC,eAAQ,CAAEC,IAAK,0BAA2BC,OAAQ,MAAOH,WAI3D,SAASI,EAAgCJ,GAC9C,OAAOC,eAAQ,CAAEC,IAAK,kDAAmDC,OAAQ,MAAOH,WAInF,SAASK,EAAsBL,GACpC,OAAOC,eAAQ,CAAEC,IAAK,wCAAyCC,OAAQ,MAAOH,WAIzE,SAASM,EAAoB7B,GAClC,OAAOwB,eAAQ,CAAEC,IAAK,6BAA8BC,OAAQ,OAAQ1B,SAI/D,SAAS8B,EAAW9B,GACzB,OAAOwB,eAAQ,CAAEC,IAAK,6BAA8BC,OAAQ,OAAQ1B,SAI/D,SAAS+B,EAAoB/B,GAClC,OAAOwB,eAAQ,CAAEC,IAAK,sCAAuCC,OAAQ,OAAQ1B,SAKxE,SAASgC,EAAmChC,GACjD,OAAOwB,eAAQ,CAAEC,IAAK,qDAAsDC,OAAQ,OAAQ1B,SAIvF,SAASiC,EAAkCjC,GAChD,OAAOwB,eAAQ,CAAEC,IAAK,oDAAqDC,OAAQ,OAAQ1B,SAKtF,SAASkC,EAAuBlC,GACrC,OAAOwB,eAAQ,CAAEC,IAAK,yCAA0CC,OAAQ,OAAQ1B,SAI3E,SAASmC,EAAkCnC,GAChD,OAAOwB,eAAQ,CAAEC,IAAK,oDAAqDC,OAAQ,OAAQ1B,SAItF,SAASoC,EAAgCpC,GAC9C,OAAOwB,eAAQ,CAAEC,IAAK,kDAAmDC,OAAQ,OAAQ1B,SAoBpF,SAASqC,EAAYrC,GAC1B,OAAOwB,eAAQ,CACbC,IAAK,cACLC,OAAQ,OACR1B,OACAsC,QAAS,CACP,eAAgB,yBAMf,SAASzB,EAAuBU,GACrC,OAAOC,eAAQ,CAAEC,IAAK,4BAA6BC,OAAQ,MAAOH,WAI7D,SAASgB,EAAmBvC,GACjC,OAAOwB,eAAQ,CAAEC,IAAK,4BAA6BC,OAAQ,OAAQ1B","file":"static/js/chunk-264c1227.7f7197a4.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('a-card',{attrs:{\"title\":\"采购商品管理\"}},[_c('a-row',{attrs:{\"gutter\":16}},[_c('a-col',{staticStyle:{\"max-width\":\"200px\",\"margin-bottom\":\"12px\"},attrs:{\"span\":24}},[_c('a-input',{attrs:{\"placeholder\":\"关键字查询...\",\"allowClear\":\"\"},on:{\"pressEnter\":_vm.search},model:{value:(_vm.searchForm.keyWord),callback:function ($$v) {_vm.$set(_vm.searchForm, \"keyWord\", $$v)},expression:\"searchForm.keyWord\"}})],1),_c('a-col',{staticStyle:{\"width\":\"100px\",\"margin-bottom\":\"12px\"},attrs:{\"span\":24}},[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")])],1),_c('a-col',{staticStyle:{\"width\":\"100px\",\"margin-bottom\":\"12px\"},attrs:{\"span\":24}},[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"edit\"},on:{\"click\":_vm.add}},[_vm._v(\"新增库存商品\")])],1)],1),_c('a-row',{staticStyle:{\"margin-top\":\"12px\"}},[_c('a-table',{attrs:{\"size\":\"small\",\"columns\":_vm.columns,\"dataSource\":_vm.items,\"rowKey\":\"id\",\"loading\":_vm.loading,\"pagination\":_vm.pagination},on:{\"change\":_vm.tableChange},scopedSlots:_vm._u([{key:\"action\",fn:function(value, item){return _c('div',{},[_c('a-button-group',[_c('a-button',{attrs:{\"icon\":\"edit\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openFormModal(item)}}},[_vm._v(\"修改\")])],1)],1)}}])})],1)],1),_c('form-modal',{attrs:{\"visible\":_vm.visible,\"form\":_vm.targetItem,\"type\":_vm.type},on:{\"update\":_vm.update},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <a-card title=\"采购商品管理\">\r\n      <a-row :gutter=\"16\">\r\n        <a-col :span=\"24\" style=\"max-width: 200px; margin-bottom: 12px;\">\r\n          <a-input v-model=\"searchForm.keyWord\" placeholder=\"关键字查询...\" allowClear @pressEnter=\"search\" />\r\n        </a-col>\r\n        <a-col :span=\"24\" style=\"width: 100px; margin-bottom: 12px;\">\r\n          <a-button type=\"primary\" icon=\"search\" @click=\"search\">查询</a-button>\r\n        </a-col>\r\n        <a-col :span=\"24\" style=\"width: 100px; margin-bottom: 12px;\">\r\n          <a-button type=\"primary\" icon=\"edit\" @click=\"add\">新增库存商品</a-button>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <a-row style=\"margin-top: 12px;\">\r\n        <a-table \r\n          size=\"small\" \r\n          :columns=\"columns\" \r\n          :dataSource=\"items\" \r\n          rowKey=\"id\" \r\n          :loading=\"loading\" \r\n          :pagination=\"pagination\" \r\n          @change=\"tableChange\"\r\n        >\r\n          <div slot=\"action\" slot-scope=\"value, item\">\r\n            <a-button-group>\r\n              <a-button icon=\"edit\" size=\"small\" @click=\"openFormModal(item)\">修改</a-button>\r\n            </a-button-group>\r\n          </div>\r\n        </a-table>\r\n      </a-row>\r\n    </a-card>\r\n    <form-modal v-model=\"visible\" :visible=\"visible\" :form=\"targetItem\" :type=\"type\" @update=\"update\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getPurchaseProductData} from '@/api/purchaser'\r\n\r\nexport default {\r\n  name: 'PurchaseProduct',\r\n  components: {\r\n    FormModal: () => import('./FormModal.vue'),\r\n  },\r\n  data() {\r\n    return {\r\n      columns: [\r\n        {\r\n          title: 'ID',\r\n          dataIndex: 'id',\r\n        },\r\n        {\r\n          title: 'SKU',\r\n          dataIndex: 'sku',\r\n        },\r\n        {\r\n          title: '状态',\r\n          dataIndex: 'status',\r\n        },\r\n        {\r\n          title: '价格',\r\n          dataIndex: 'price',\r\n        },\r\n        {\r\n          title: '类别',\r\n          dataIndex: 'type',\r\n        },\r\n        {\r\n          title: '入库时间',\r\n          dataIndex: 'stock_in_date',\r\n        },\r\n        {\r\n          title: '出库时间',\r\n          dataIndex: 'stock_out_date',\r\n        },\r\n        {\r\n          title: '丢失时间',\r\n          dataIndex: 'loss_date',\r\n        },\r\n        {\r\n          title: '丢失件备注',\r\n          dataIndex: 'mark',\r\n        },\r\n        {\r\n          title: '关联ozon订单',\r\n          dataIndex: 'ozon_order_id',\r\n        },\r\n        {\r\n          title: '关联采购订单',\r\n          dataIndex: 'purchase_order_id',\r\n        },\r\n        {\r\n          title: '关联系统内商品',\r\n          dataIndex: 'system_product_id',\r\n        },\r\n        {\r\n          title: '创建时间',\r\n          dataIndex: 'create_time',\r\n        },\r\n        {\r\n          title: '修改时间',\r\n          dataIndex: 'modify_time',\r\n        },\r\n        // {\r\n        //   title: '操作',\r\n        //   dataIndex: 'action',\r\n        //   scopedSlots: { customRender: 'action' },\r\n        // },\r\n      ],\r\n      searchForm: { start: 0, limit: 15, keyWord: \"\"},\r\n      pagination: { current: 1, total: 0, pageSize: 15 },\r\n      loading: false,\r\n      items: [],\r\n\r\n      visible: false,\r\n      targetItem: {},\r\n      form: {},\r\n      type:\"\",\r\n    };\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  methods: {\r\n    initialize() {\r\n      this.list();\r\n    },\r\n    list() {\r\n      this.loading = true;\r\n      getPurchaseProductData(this.searchForm).then(data => {\r\n        this.pagination.total = data.data.count;\r\n        this.items = data.data.data;\r\n      }).finally(() => {\r\n        this.loading = false;\r\n      });\r\n    },\r\n    update() {\r\n      this.visible = false\r\n      this.list();\r\n    },\r\n    search() {\r\n      this.searchForm.start = 0;\r\n      this.pagination.current = 1;\r\n      this.list();\r\n    },\r\n    openFormModal(item) {\r\n      this.type = \"modify\",\r\n      this.targetItem = { ...item };\r\n      this.visible = true;\r\n    },\r\n    tableChange(pagination, filters, sorter) {      \r\n      this.searchForm.start = (pagination.current-1)*this.pagination.pageSize;\r\n      this.pagination.current = pagination.current;\r\n      this.list();\r\n    },\r\n    add(){\r\n      this.targetItem = {}\r\n      this.visible = true\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initialize();\r\n  },\r\n  activated() {\r\n    this.initialize();\r\n  },\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=03941fec\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request';\r\n\r\n// 审阅模式获取采购订单\r\nexport function getPurchaseOrderData(params) {\r\n  return request({ url: `/purchase_order/getData`, method: 'get', params })\r\n}\r\n\r\n// 批量采购模式 获取待采购产品供应商列表\r\nexport function getWaitForPurchaseOrderSupplier(params) {\r\n  return request({ url: `/purchase_order/getWaitForPurchaseOrderSupplier`, method: 'get', params })\r\n}\r\n\r\n// 批量采购模式 根据 平台、供应商 获取采购订单数据\r\nexport function getDataInPurchaseMode(params) {\r\n  return request({ url: `/purchase_order/getDataInPurchaseMode`, method: 'get', params })\r\n}\r\n\r\n// 根据ozon订单信息更新采购订单\r\nexport function upDatePurchaseOrder(data) {\r\n  return request({ url: `/purchase_order/updateData`, method: 'post', data })\r\n}\r\n\r\n// 手动修改采购单信息\r\nexport function modifyData(data) {\r\n  return request({ url: `/purchase_order/modifyData`, method: 'post', data })\r\n}\r\n\r\n// 运营手动修改采购单信息（回复留言） \r\nexport function operationModifyData(data) {\r\n  return request({ url: `/purchase_order/operationModifyData`, method: 'post', data })\r\n}\r\n\r\n\r\n// 批量给采购单 填写国内运单号\r\nexport function fillThePurchaseIdForPurchaseOrders(data) {\r\n  return request({ url: `/purchase_order/fillThePurchaseIdForPurchaseOrders`, method: 'post', data })\r\n}\r\n\r\n// 给采购单 填写订单号\r\nexport function fillThePurchaseIdForPurchaseOrder(data) {\r\n  return request({ url: `/purchase_order/fillThePurchaseIdForPurchaseOrder`, method: 'post', data })\r\n}\r\n\r\n\r\n// 作废采购单\r\nexport function cancleThePurchaseOrder(data) {\r\n  return request({ url: `/purchase_order/cancleThePurchaseOrder`, method: 'post', data })\r\n}\r\n\r\n// 更新1688订单\r\nexport function updatePurchaseOrdersIn1688WithAPI(data) {\r\n  return request({ url: `/purchase_order/updatePurchaseOrdersIn1688WithAPI`, method: 'post', data })\r\n}\r\n\r\n// 批量下单1688订单 \r\nexport function buyPurchaseProductIn1688WithAPI(data) {\r\n  return request({ url: `/purchase_order/buyPurchaseProductIn1688WithAPI`, method: 'post', data })\r\n}\r\n\r\n// 通过excel更新采购单信息\r\n// 上传 Excel 文件并更新采购单信息\r\nexport function updatePurchaseOrdersWithExcel(file) {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n\r\n  return request({\r\n    url: '/purchase_order/updatePurchaseOrdersWithExcel',\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n    data: formData,\r\n  });\r\n}\r\n\r\n// 上传图片\r\nexport function uploadImage(data) {\r\n  return request({\r\n    url: `/pic/upload`,\r\n    method: 'post',\r\n    data,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n  });\r\n}\r\n\r\n// ----------------------------- 采购商品 ----------------------------- \r\nexport function getPurchaseProductData(params) {\r\n  return request({ url: `/purchase_product/getData`, method: 'get', params })\r\n}\r\n\r\n// 运营手动修改采购单信息（回复留言） \r\nexport function addPurchaseProduct(data) {\r\n  return request({ url: `/purchase_product/addData`, method: 'post', data })\r\n}\r\n\r\n\r\n"],"sourceRoot":""}