{"version":3,"sources":["webpack:///./src/views/finance/analysis/index.vue?5597","webpack:///./src/views/finance/analysis/index.vue","webpack:///./src/api/finance.js","webpack:///src/views/finance/analysis/index.vue","webpack:///./src/views/finance/analysis/index.vue?0770","webpack:///./src/views/finance/analysis/index.vue?9bd8"],"names":["render","_vm","this","_c","_self","attrs","staticStyle","defaultDateRange","on","fetchData","model","value","dateRange","callback","$$v","expression","staticClass","_v","rate","list","_s","summary","ozonOrder","quantity_order","quantity_product","rmbData","usdData","salesTrendChart_quantity","salesTrendChart_money","purchaseOrder","price","purchaseTrendChart_quantity","purchaseTrendChart_money","_l","rankData","key","index","title","Columns","data","topProductsChart_volume","topProductsChart_price","staticRenderFns","getFinaceAnalysisData","request","url","method","name","moment","subtract","tooltip","trigger","xAxis","type","yAxis","series","legend","top","shopSalesRankingData","dataIndex","shopSalesVolumeData","operationSalesRankingData","operationSalesVolumeData","methods","console","log","map","date","format","initialize","loading","then","res","Object","keys","salesTrend","values","item","parseFloat","purchaseTrend","entries","shopSalesData","id","sort","a","b","rank","addData","toFixed","operationSalesgData","ozonProductsData","offer_id","sku","ozonProductsData_volume","slice","ozonProductsData_price","message","success","msg","finally","mounted","component"],"mappings":"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","file":"static/js/chunk-c6fb55cc.66ff8064.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0391b2a1&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('a-card',{attrs:{\"title\":\"财务数据管理\"}},[_c('a-row',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"gutter\":16}},[_c('a-col',{attrs:{\"span\":8}},[_c('a-range-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"format\":\"YYYY-MM-DD\",\"default-value\":_vm.defaultDateRange},on:{\"change\":_vm.fetchData},model:{value:(_vm.dateRange),callback:function ($$v) {_vm.dateRange=$$v},expression:\"dateRange\"}})],1),_c('a-col',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"},attrs:{\"span\":4}},[_c('span',{staticClass:\"label\"},[_vm._v(\"美元税率:\")]),_c('a-input',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.rate),callback:function ($$v) {_vm.rate=$$v},expression:\"rate\"}})],1),_c('a-col',{attrs:{\"span\":4}},[_c('a-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.list}},[_vm._v(\"查询\")])],1)],1),_c('a-row',{staticStyle:{\"margin-bottom\":\"16px\"}},[_c('a-col',{staticStyle:{\"display\":\"flex\"}},[_c('a-card',{staticStyle:{\"width\":\"50%\",\"text-align\":\"center\"},attrs:{\"title\":\"销售数据\"}},[_c('div',[_c('span',{staticClass:\"label\"},[_vm._v(\"订单单量:\")]),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.summary.ozonOrder.quantity_order)+\" \")])]),_c('div',[_c('span',{staticClass:\"label\"},[_vm._v(\"商品数量:\")]),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.summary.ozonOrder.quantity_product)+\" \")])]),_c('div',[_c('span',{staticClass:\"label\"},[_vm._v(\"人民币销售总额:\")]),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.summary.ozonOrder.rmbData)+\"￥ \")])]),_c('div',[_c('span',{staticClass:\"label\"},[_vm._v(\"美元销售总额:\")]),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.summary.ozonOrder.usdData)+\"$ \")])]),_c('vue-echarts',{staticStyle:{\"height\":\"300px\",\"width\":\"90%\"},attrs:{\"options\":_vm.salesTrendChart_quantity}}),_c('vue-echarts',{staticStyle:{\"height\":\"300px\",\"width\":\"90%\"},attrs:{\"options\":_vm.salesTrendChart_money}})],1),_c('a-card',{staticStyle:{\"width\":\"50%\",\"text-align\":\"center\"},attrs:{\"title\":\"采购数据\"}},[_c('div',[_c('span',{staticClass:\"label\"},[_vm._v(\"采购单量:\")]),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.summary.purchaseOrder.quantity_order)+\" \")])]),_c('div',[_c('span',{staticClass:\"label\"},[_vm._v(\"采购数量:\")]),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.summary.purchaseOrder.quantity_product)+\" \")])]),_c('div',[_c('span',{staticClass:\"label\"},[_vm._v(\"采购总额:\")]),_c('span',{staticClass:\"value\"},[_vm._v(\" \"+_vm._s(_vm.summary.purchaseOrder.price)+\"￥ \")])]),_c('vue-echarts',{staticStyle:{\"height\":\"300px\",\"width\":\"90%\"},attrs:{\"options\":_vm.purchaseTrendChart_quantity}}),_c('vue-echarts',{staticStyle:{\"height\":\"300px\",\"width\":\"90%\"},attrs:{\"options\":_vm.purchaseTrendChart_money}})],1)],1)],1),_c('a-row',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"gutter\":16}},_vm._l((_vm.rankData),function(value,key,index){return _c('a-col',{key:key,attrs:{\"span\":12}},[_c('a-card',{attrs:{\"title\":value.title}},[_c('a-table',{attrs:{\"columns\":value.Columns,\"data-source\":value.data,\"rowKey\":\"id\",\"size\":\"small\",\"bordered\":\"\"}})],1)],1)}),1),_c('a-row',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"gutter\":16}},[_c('a-col',{attrs:{\"span\":24}},[_c('a-card',{attrs:{\"title\":\"OZON商品销量 Top20\"}},[_c('vue-echarts',{staticStyle:{\"height\":\"400px\",\"width\":\"90%\"},attrs:{\"options\":_vm.topProductsChart_volume}})],1)],1)],1),_c('a-row',{staticStyle:{\"margin-bottom\":\"16px\"},attrs:{\"gutter\":16}},[_c('a-col',{attrs:{\"span\":24}},[_c('a-card',{attrs:{\"title\":\"OZON销售额(元) Top20\"}},[_c('vue-echarts',{staticStyle:{\"height\":\"400px\",\"width\":\"90%\"},attrs:{\"options\":_vm.topProductsChart_price}})],1)],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request';\r\n\r\n// 获取财务分析数据\r\n// export function getFinaceAnalysisData(params) {\r\n//   return request({ url: `/purchase_order/getData`, method: 'get', params })\r\n// }\r\n\r\n// 获取财务分析数据\r\nexport function getFinaceAnalysisData(data) {\r\n  return request({ url: `/general/getFinaceAnalysisData`, method: 'post', data })\r\n}\r\n\r\n","<template>\r\n  <div>\r\n    <a-card title=\"财务数据管理\">\r\n      <!-- 时间选择器和查询按钮 -->\r\n      <a-row :gutter=\"16\" style=\"margin-bottom: 16px;\">\r\n        <a-col :span=\"8\">\r\n          <a-range-picker\r\n            v-model=\"dateRange\"\r\n            format=\"YYYY-MM-DD\"\r\n            :default-value=\"defaultDateRange\"\r\n            style=\"width: 100%;\"\r\n            @change=\"fetchData\"\r\n          />\r\n        </a-col>\r\n        <a-col :span=\"4\" style=\"display: flex; align-items: center;\">\r\n          <span class=\"label\">美元税率:</span>\r\n          <a-input v-model=\"rate\" style=\"width: 100px;\"/>\r\n        </a-col>\r\n        <a-col :span=\"4\">\r\n          <a-button type=\"primary\" icon=\"search\" @click=\"list\">查询</a-button>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <!-- 总体数据 -->\r\n      <a-row style=\"margin-bottom: 16px;\">\r\n        <a-col style=\"display: flex;\">\r\n          <a-card title=\"销售数据\" style=\"width: 50%; text-align: center\">\r\n            <div>\r\n              <span class=\"label\">订单单量:</span>  \r\n              <span class=\"value\"> {{ summary.ozonOrder.quantity_order }} </span>\r\n            </div>\r\n            <div>\r\n              <span class=\"label\">商品数量:</span>  \r\n              <span class=\"value\"> {{ summary.ozonOrder.quantity_product }} </span>\r\n            </div>\r\n            <div>\r\n              <span class=\"label\">人民币销售总额:</span>  \r\n              <span class=\"value\"> {{ summary.ozonOrder.rmbData }}￥ </span>\r\n            </div>\r\n            <div>\r\n              <span class=\"label\">美元销售总额:</span>  \r\n              <span class=\"value\"> {{ summary.ozonOrder.usdData }}$ </span>\r\n            </div>\r\n            <vue-echarts :options=\"salesTrendChart_quantity\" style=\"height: 300px; width: 90%;\"></vue-echarts>\r\n            <vue-echarts :options=\"salesTrendChart_money\" style=\"height: 300px; width: 90%;\"></vue-echarts>\r\n\r\n          </a-card>\r\n\r\n          <a-card title=\"采购数据\" style=\"width: 50%; text-align: center\">\r\n            <div>\r\n              <span class=\"label\">采购单量:</span>  \r\n              <span class=\"value\"> {{ summary.purchaseOrder.quantity_order }} </span>\r\n            </div>\r\n            <div>\r\n              <span class=\"label\">采购数量:</span>  \r\n              <span class=\"value\"> {{ summary.purchaseOrder.quantity_product }} </span>\r\n            </div>\r\n            <div>\r\n              <span class=\"label\">采购总额:</span>  \r\n              <span class=\"value\"> {{ summary.purchaseOrder.price }}￥ </span>\r\n            </div>\r\n            <vue-echarts :options=\"purchaseTrendChart_quantity\" style=\"height: 300px; width: 90%;\"></vue-echarts>\r\n            <vue-echarts :options=\"purchaseTrendChart_money\" style=\"height: 300px; width: 90%;\"></vue-echarts>\r\n          </a-card>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <!-- 排行展示 -->\r\n      <a-row :gutter=\"16\" style=\"margin-bottom: 16px;\">\r\n\r\n        <a-col :span=\"12\" v-for=\"value,key,index in rankData\" :key=\"key\">\r\n          <a-card :title=\"value.title\">\r\n            <a-table\r\n              :columns=\"value.Columns\"\r\n              :data-source=\"value.data\"\r\n              rowKey=\"id\"\r\n              size=\"small\"\r\n              bordered\r\n            />\r\n          </a-card>\r\n        </a-col>\r\n      </a-row>\r\n\r\n      <!-- 热卖产品 Top20 -->\r\n      <a-row :gutter=\"16\" style=\"margin-bottom: 16px;\">\r\n        <a-col :span=\"24\">\r\n          <a-card title=\"OZON商品销量 Top20\">\r\n            <vue-echarts :options=\"topProductsChart_volume\" style=\"height: 400px; width: 90%;\"></vue-echarts>\r\n          </a-card>          \r\n        </a-col>\r\n      </a-row>\r\n\r\n      <!-- 热卖产品 Top20 -->\r\n      <a-row :gutter=\"16\" style=\"margin-bottom: 16px;\">\r\n        <a-col :span=\"24\">\r\n          <a-card title=\"OZON销售额(元) Top20\">\r\n            <vue-echarts :options=\"topProductsChart_price\" style=\"height: 400px; width: 90%;\"></vue-echarts>\r\n          </a-card>          \r\n        </a-col>\r\n      </a-row>\r\n    </a-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment';\r\nimport { getFinaceAnalysisData } from '@/api/finance'\r\nimport { message } from \"ant-design-vue\";\r\n\r\nexport default {\r\n  name: 'FinanceManagement',\r\n  data() {\r\n    return {\r\n      dateRange: [moment().subtract(1, 'month'), moment()],\r\n      defaultDateRange: [moment().subtract(1, 'month'), moment()],\r\n      \r\n      // 销售、采购总体数据\r\n      summary: {\r\n        \"ozonOrder\":{\r\n          \"quantity_order\": 0,\r\n          \"quantity_product\": 0,\r\n          \"rmbData\": 0,\r\n          \"usdData\": 0,\r\n      },\r\n        \"purchaseOrder\":{\r\n            \"quantity_order\": 0,\r\n            \"quantity_product\": 0,\r\n            \"price\": 0,\r\n        }\r\n      },\r\n\r\n      // 销售趋势数据\r\n      salesTrendChart_money: {\r\n        tooltip: { trigger: 'axis' },\r\n        xAxis: { type: 'category', data: [] },\r\n        yAxis: { type: 'value' },\r\n        series: [\r\n          { type: 'line', data: [], name:'CNY' },\r\n          { type: 'line', data: [], name:'USD' },\r\n        ],\r\n        legend: {\r\n          data: ['USD', 'CNY'],\r\n          top: '10%',\r\n        },\r\n      },\r\n      salesTrendChart_quantity: {\r\n        tooltip: { trigger: 'axis' },\r\n        legend: {\r\n          data: ['订单数量', '商品数量'],\r\n          top: '10%',\r\n        },\r\n        xAxis: { type: 'category', data: [] },\r\n        yAxis: { type: 'value' },\r\n        series: [\r\n          { type: 'line', data: [], name:'订单数量' },\r\n          { type: 'line', data: [], name:'商品数量' },\r\n        ],\r\n      },\r\n      // 采购趋势数据\r\n      purchaseTrendChart_money: {\r\n        legend: {\r\n          data: ['采购金额'],\r\n          top: '10%',\r\n        },\r\n        tooltip: { trigger: 'axis' },\r\n        xAxis: { type: 'category', data: [] },\r\n        yAxis: { type: 'value' },\r\n        series: [{ type: 'line', data: [], name:\"采购金额\" }],\r\n      },\r\n      purchaseTrendChart_quantity: {\r\n        legend: {\r\n          data: ['采购单量','商品数量'],\r\n          top: '10%',\r\n        },\r\n        tooltip: { trigger: 'axis' },\r\n        xAxis: { type: 'category', data: [] },\r\n        yAxis: { type: 'value' },\r\n        series: [{ type: 'line', data: [], name:\"采购单量\" },{ type: 'line', data: [],name:\"商品数量\" }],\r\n      },\r\n\r\n      // 排名表数据\r\n      rankData:{\r\n        shopSalesRankingData: {\r\n          title:\"店铺销售额排名\",\r\n          data: [],\r\n          Columns:[\r\n            { title: '排名', dataIndex: 'rank', key: 'rank' },\r\n            { title: '店铺', dataIndex: 'name', key: 'name' },\r\n            { title: '人民币', dataIndex: 'rmbData', key: 'rmbData' },\r\n            { title: '美元', dataIndex: 'usdData', key: 'usdData' },\r\n            { title: '总额 (人民币)', dataIndex: 'addData', key: 'addData' },\r\n          ]\r\n        },\r\n        shopSalesVolumeData: {\r\n          title:\"店铺销售量排名\",\r\n          data: [],\r\n          Columns:[\r\n            { title: '排名', dataIndex: 'rank', key: 'rank' },\r\n            { title: '店铺', dataIndex: 'name', key: 'name' },\r\n            { title: '订单销量', dataIndex: 'quantity_order', key: 'quantity_order' },\r\n            { title: '产品销量', dataIndex: 'quantity_product', key: 'quantity_product' },\r\n          ]\r\n        },\r\n        operationSalesRankingData: {\r\n          title:\"运营销售额排名\",\r\n          data: [],\r\n          Columns:[\r\n            { title: '排名', dataIndex: 'rank', key: 'rank' },\r\n            { title: '运营', dataIndex: 'name', key: 'name' },\r\n            { title: '人民币', dataIndex: 'rmbData', key: 'rmbData' },\r\n            { title: '美元', dataIndex: 'usdData', key: 'usdData' },\r\n            { title: '总额 (人民币)', dataIndex: 'addData', key: 'addData' },\r\n          ]\r\n          \r\n        },\r\n        operationSalesVolumeData: {\r\n          title:\"运营销售量排名\",\r\n          data: [],\r\n          Columns:[\r\n            { title: '排名', dataIndex: 'rank', key: 'rank' },\r\n            { title: '运营', dataIndex: 'name', key: 'name' },\r\n            { title: '订单销量', dataIndex: 'quantity_order', key: 'quantity_order' },\r\n            { title: '产品销量', dataIndex: 'quantity_product', key: 'quantity_product' },\r\n          ]\r\n        }\r\n      },\r\n      // 热卖产品数据 销量\r\n      topProductsChart_volume: {\r\n        tooltip: { trigger: 'item' },\r\n        xAxis: { type: 'category', data: []},\r\n        yAxis: { type: 'value' },\r\n        series: [{ type: 'bar', data: [] }],\r\n      },\r\n      // 热卖产品数据 价格\r\n      topProductsChart_price: {\r\n        tooltip: { trigger: 'item' },\r\n        xAxis: { type: 'category', data: []},\r\n        yAxis: { type: 'value' },\r\n        series: [{ type: 'bar', data: [] }],\r\n      },\r\n      // 美元人民币汇率\r\n      rate: 7\r\n    };\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      console.log('查询的时间范围:', this.dateRange.map(date => date.format('YYYY-MM-DD')));\r\n    },\r\n    initialize() {\r\n      this.list();\r\n    },\r\n    list() {\r\n      this.loading = true;\r\n      getFinaceAnalysisData({dateRange:this.dateRange.map(date => date.format('YYYY-MM-DD'))}).then(\r\n        res => {\r\n          console.log(res.data)\r\n          //总和数据\r\n          this.summary = {...res.data.summary}\r\n          \r\n          // 销售数据\r\n          this.salesTrendChart_quantity.xAxis.data = Object.keys(res.data.salesTrend)\r\n          this.salesTrendChart_quantity.series[0].data = Object.values(res.data.salesTrend).map(item => item.quantity_order);\r\n          this.salesTrendChart_quantity.series[1].data = Object.values(res.data.salesTrend).map(item => item.quantity_product);\r\n          \r\n          this.salesTrendChart_money.xAxis.data = Object.keys(res.data.salesTrend)\r\n          this.salesTrendChart_money.series[0].data = Object.values(res.data.salesTrend).map(item => parseFloat(item.rmbData));\r\n          this.salesTrendChart_money.series[1].data = Object.values(res.data.salesTrend).map(item => parseFloat(item.usdData));\r\n          \r\n          // 采购数据\r\n          this.purchaseTrendChart_quantity.xAxis.data = Object.keys(res.data.purchaseTrend)\r\n          this.purchaseTrendChart_quantity.series[0].data = Object.values(res.data.purchaseTrend).map(item => item.quantity_order);\r\n          this.purchaseTrendChart_quantity.series[1].data = Object.values(res.data.purchaseTrend).map(item => item.quantity_product);\r\n          \r\n          this.purchaseTrendChart_money.xAxis.data = Object.keys(res.data.purchaseTrend)\r\n          this.purchaseTrendChart_money.series[0].data = Object.values(res.data.purchaseTrend).map(item => parseFloat(item.price));\r\n          \r\n          //店铺销售量排名表\r\n          this.rankData.shopSalesVolumeData.data = Object.entries(res.data.shopSalesData)\r\n            .map(([id, data]) => ({\r\n              id,\r\n              name: data.name,\r\n              quantity_order: data.quantity_order,\r\n              quantity_product: data.quantity_product\r\n            }))\r\n            .sort((a, b) => b.quantity_order - a.quantity_order)\r\n            .map((item, index) => ({\r\n              ...item,\r\n              rank: index + 1\r\n            }));\r\n          \r\n          // 店铺销售价排名表\r\n          this.rankData.shopSalesRankingData.data = Object.entries(res.data.shopSalesData)\r\n            .map(([id, data]) => ({\r\n              id,\r\n              name: data.name,\r\n              rmbData: parseFloat(data.rmbData),\r\n              usdData: parseFloat(data.usdData),\r\n              addData: (parseFloat(data.rmbData) + parseFloat(data.usdData)*this.rate).toFixed(4)\r\n            }))\r\n            .sort((a, b) => b.addData - a.addData)\r\n            .map((item, index) => ({\r\n              ...item,\r\n              rank: index + 1\r\n            }));\r\n          \r\n          // 运营销售量排名表\r\n          this.rankData.operationSalesVolumeData.data = Object.entries(res.data.operationSalesgData)\r\n            .map(([id, data]) => ({\r\n              id,\r\n              name: data.name,\r\n              quantity_order: data.quantity_order,\r\n              quantity_product: data.quantity_product\r\n            }))\r\n            .sort((a, b) => b.quantity_order - a.quantity_order)\r\n            .map((item, index) => ({\r\n              ...item,\r\n              rank: index + 1\r\n            }));\r\n          // 运营销售价排名表\r\n          this.rankData.operationSalesRankingData.data = Object.entries(res.data.operationSalesgData)\r\n            .map(([id, data]) => ({\r\n              id,\r\n              name: data.name,\r\n              rmbData: parseFloat(data.rmbData),\r\n              usdData: parseFloat(data.usdData),\r\n              addData: (parseFloat(data.rmbData) + parseFloat(data.usdData)*this.rate).toFixed(4)\r\n            }))\r\n            .sort((a, b) => b.addData - a.addData)\r\n            .map((item, index) => ({\r\n              ...item,\r\n              rank: index + 1\r\n            }));\r\n          \r\n          // ozon 热卖商品排行表\r\n\r\n          let ozonProductsData = Object.entries(res.data.ozonProductsData)\r\n            .map(([id, data]) => ({\r\n              id,\r\n              name: data.name,\r\n              offer_id: data.offer_id,\r\n              sku: data.sku,\r\n              quantity_product: data.quantity_product,\r\n              rmbData: parseFloat(data.rmbData),\r\n              usdData: parseFloat(data.usdData)\r\n            }))\r\n\r\n          let ozonProductsData_volume = ozonProductsData\r\n            .sort((a, b) => b.quantity_product - a.quantity_product)\r\n            .map((item, index) => ({\r\n              ...item,\r\n              rank: index + 1\r\n            })).slice(0,20)\r\n                    \r\n          let ozonProductsData_price = ozonProductsData\r\n            .sort((a, b) => (b.rmbData + b.usdData * this.rate) - (a.rmbData + a.usdData * this.rate))\r\n            .map((item, index) => ({\r\n              ...item,\r\n              rank: index + 1\r\n            })).slice(0,20)\r\n          \r\n          console.log(ozonProductsData_price)\r\n\r\n          this.topProductsChart_volume.xAxis.data = ozonProductsData_volume.map(item => item.offer_id)\r\n          this.topProductsChart_volume.series[0].data = ozonProductsData_volume.map(item => item.quantity_product)\r\n          this.topProductsChart_price.xAxis.data = ozonProductsData_price.map(item => item.offer_id)\r\n          this.topProductsChart_price.series[0].data = ozonProductsData_price.map(item => (item.rmbData + item.usdData * this.rate).toFixed(4))\r\n\r\n          message.success(res.msg)\r\n        }\r\n      ).finally(() => {\r\n        this.loading = false;\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.initialize();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.label {\r\n  font-weight: 700;\r\n  font-size: 16px;\r\n}\r\n\r\n.value {\r\n  font-size: 16px;\r\n}\r\n\r\n:global(.ant-card-head-title) {\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0391b2a1&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0391b2a1&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0391b2a1\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}