{"version":3,"sources":["webpack:///./src/api/login.js","webpack:///./src/views/login/Login.vue","webpack:///src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?06b4","webpack:///./src/views/login/Login.vue?b183"],"names":["userLogin","data","request","url","method","userProtected","render","_vm","this","_c","_self","ref","attrs","form","rules","span","model","value","username","callback","$$v","$set","expression","password","staticStyle","isLoading","on","login","_v","staticRenderFns","name","selectedKeys","number","reg","email","code","required","message","trigger","second","is_send","warn","code_interval","methods","initialize","document","onkeypress","e","all","event","keyCode","which","$refs","validate","valid","console","log","then","$message","success","Cookies","set","access","$router","push","finally","created","component"],"mappings":"kHAAA,oFAIO,SAASA,EAAUC,GACxB,OAAOC,eAAQ,CAAEC,IAAK,SAAUC,OAAQ,OAAQH,SAAQ,GAInD,SAASI,EAAcJ,GAC5B,OAAOC,eAAQ,CAAEC,IAAK,aAAcC,OAAQ,MAAOH,SAAQ,K,yCCV7D,IAAIK,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACA,EAAG,eAAe,CAACE,IAAI,OAAOC,MAAM,CAAC,MAAQL,EAAIM,KAAK,MAAQN,EAAIO,MAAM,YAAY,CAAEC,KAAM,GAAI,cAAc,CAAEA,KAAM,MAAO,CAACN,EAAG,oBAAoB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,QAAQ,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,SAASI,MAAM,CAACC,MAAOV,EAAIM,KAAKK,SAAUC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIM,KAAM,WAAYO,IAAME,WAAW,oBAAoB,GAAGb,EAAG,oBAAoB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,OAAO,CAACH,EAAG,mBAAmB,CAACG,MAAM,CAAC,KAAO,SAASI,MAAM,CAACC,MAAOV,EAAIM,KAAKU,SAAUJ,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIM,KAAM,WAAYO,IAAME,WAAW,oBAAoB,IAAI,IAAI,GAAGb,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,OAAS,MAAM,CAACH,EAAG,WAAW,CAACe,YAAY,CAAC,MAAQ,QAAQZ,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,QAAUL,EAAIkB,WAAWC,GAAG,CAAC,MAAQnB,EAAIoB,QAAQ,CAACpB,EAAIqB,GAAG,SAAS,IAAI,IAAI,IAEv4BC,EAAkB,G,6CCsBP,GACfC,KAAA,QACA7B,OACA,OACA8B,aAAA,UACAN,WAAA,EACAZ,KAAA,CACAmB,OAAA,IACAd,SAAA,GACAK,SAAA,IAEAU,IAAA,CACAC,MAAA,GACAX,SAAA,GACAY,KAAA,GACAjB,SAAA,IAEAJ,MAAA,CACAkB,OAAA,CACA,CAAAI,UAAA,EAAAC,QAAA,UAAAC,QAAA,WAEApB,SAAA,CACA,CAAAkB,UAAA,EAAAC,QAAA,SAAAC,QAAA,WAEAf,SAAA,CACA,CAAAa,UAAA,EAAAC,QAAA,QAAAC,QAAA,YAGAC,OAAA,GACAC,SAAA,EACAC,KAAA,GACAC,cAAA,OAGAC,QAAA,CACAC,aACAC,SAAAC,WAAAC,IACAF,SAAAG,IAAAC,MAAAC,QAAAH,EAAAI,QAGAxB,QACA,KAAAyB,MAAAvC,KAAAwC,SAAAC,IACAA,IACA,KAAA7B,WAAA,EACA8B,QAAAC,IAAA,KAAA3C,MACAb,eAAA,KAAAa,MAAA4C,KAAAxD,IACA,KAAAyD,SAAAC,QAAA,QACAC,IAAAC,IAAA,SAAA5D,EAAA6D,QAEA,KAAAC,QAAAC,KAAA,OACAC,QAAA,KACA,KAAAxC,WAAA,SAMAyC,UACA,KAAAtB,eClF6V,I,YCOzVuB,EAAY,eACd,EACA7D,EACAuB,GACA,EACA,KACA,KACA,MAIa,aAAAsC,E","file":"static/js/chunk-24170cf2.0cfe7544.js","sourcesContent":["import request from '@/utils/request';\r\n\r\n\r\n// 账号登陆\r\nexport function userLogin(data) {\r\n  return request({ url: `/login`, method: 'post', data }, false)\r\n}\r\n\r\n// 账号鉴权\r\nexport function userProtected(data) {\r\n  return request({ url: `/protected`, method: 'get', data }, false)\r\n}\r\n\r\n\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',[_c('a-form-model',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 14 }}},[_c('a-form-model-item',{attrs:{\"prop\":\"username\",\"label\":\"用户名\"}},[_c('a-input',{attrs:{\"size\":\"large\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('a-form-model-item',{attrs:{\"prop\":\"password\",\"label\":\"密码\"}},[_c('a-input-password',{attrs:{\"size\":\"large\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1)],1)],1),_c('a-row',[_c('a-col',{attrs:{\"span\":14,\"offset\":\"5\"}},[_c('a-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"size\":\"large\",\"loading\":_vm.isLoading},on:{\"click\":_vm.login}},[_vm._v(\"登录\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>\r\n      <a-form-model ref=\"form\" :model=\"form\" :rules=\"rules\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 14 }\">\r\n        <a-form-model-item prop=\"username\" label=\"用户名\">\r\n          <a-input size=\"large\" v-model=\"form.username\"/>\r\n        </a-form-model-item>\r\n        <a-form-model-item prop=\"password\" label=\"密码\">\r\n          <a-input-password size=\"large\" v-model=\"form.password\"/>\r\n        </a-form-model-item>\r\n      </a-form-model>\r\n    </div>\r\n    <a-row>\r\n      <a-col :span=\"14\" offset=\"5\">\r\n        <a-button type=\"primary\" size=\"large\" :loading=\"isLoading\" style=\"width: 100%;\" @click=\"login\">登录</a-button>\r\n      </a-col>\r\n    </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { userLogin } from '@/api/login';\r\nimport Cookies from 'js-cookie';\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      selectedKeys: ['login'],\r\n      isLoading: false,\r\n      form: {\r\n        number: '0',\r\n        username: '',\r\n        password: '',\r\n      },\r\n      reg: {\r\n        email: '',\r\n        password: '',\r\n        code: '',\r\n        username: ''\r\n      },\r\n      rules: {\r\n        number: [\r\n          {required: true, message: '请输入公司编号', trigger: 'change'},\r\n        ],\r\n        username: [\r\n          {required: true, message: '请输入用户名', trigger: 'change'},\r\n        ],\r\n        password: [\r\n          {required: true, message: '请输入密码', trigger: 'change'},\r\n        ],\r\n      },\r\n      second: 60,\r\n      is_send: false,\r\n      warn: '',\r\n      code_interval: null\r\n    };\r\n  },\r\n  methods: {\r\n    initialize() {\r\n      document.onkeypress = (e) => {\r\n        let code = document.all ? event.keyCode : e.which;\r\n      }\r\n    },\r\n    login() {\r\n      this.$refs.form.validate(valid => {\r\n        if (valid) {\r\n          this.isLoading = true;\r\n          console.log(this.form);\r\n          userLogin(this.form).then(data => {\r\n            this.$message.success('登录成功');\r\n            Cookies.set('access', data.access);\r\n            // Cookies.set('refresh', data.refresh);\r\n            this.$router.push('/');\r\n          }).finally(() => {\r\n            this.isLoading = false;\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.initialize();\r\n  },\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=8582f30a\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}