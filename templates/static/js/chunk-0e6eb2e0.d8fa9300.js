(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e6eb2e0"],{2006:function(t,e,r){"use strict";r.d(e,"d",(function(){return n})),r.d(e,"g",(function(){return s})),r.d(e,"j",(function(){return o})),r.d(e,"f",(function(){return i})),r.d(e,"e",(function(){return c})),r.d(e,"l",(function(){return u})),r.d(e,"c",(function(){return d})),r.d(e,"k",(function(){return l})),r.d(e,"b",(function(){return p})),r.d(e,"h",(function(){return h})),r.d(e,"m",(function(){return m})),r.d(e,"a",(function(){return _})),r.d(e,"i",(function(){return g}));var a=r("b775");function n(t){return Object(a["a"])({url:"/purchase_order/getInTransitPurchaseOrderData",method:"get",params:t})}function s(t){return Object(a["a"])({url:"/purchase_order/getThePostingOfPurchaseOrder",method:"post",data:t})}function o(t){return Object(a["a"])({url:"/purchase_order/signTheSystemProductsOfPurchaseOrder",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/ozon_order/getStockPreparedPendingOutwardOzonOrderData",method:"get",params:t})}function c(t){return Object(a["a"])({url:"/ozon_order/getOrderForDispatch",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/ozon_order/stockOutPurchaseProductWithPurchaseProductId",method:"post",data:t})}function d(t){return Object(a["a"])({url:"/ozon_order/getDataWithOzonOrderId",method:"post",data:t})}function l(t){return Object(a["a"])({url:"/ozon_order/stockOutPurchaseProductInOzonOrder",method:"post",data:t})}function p(t){return Object(a["a"])({url:"/ozon_order/checkOzonOrderWeight",method:"post",data:t})}function h(t){return Object(a["a"])({url:"/ozon_order/labelTheOverWeightOzonOrder",method:"post",data:t})}function m(t){return Object(a["a"])({url:"/ozon_order/uploadTheWeight",method:"post",data:t})}function _(t){return Object(a["a"])({url:"/package/addData",method:"post",data:t})}function g(t){return Object(a["a"])({url:"/package/printPackage",method:"post",data:t})}},28777:function(t,e,r){"use strict";r("6335")},3384:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("a-card",{attrs:{title:"采购订单入库管理"}},[e("a-row",{attrs:{gutter:16}},[e("a-col",{staticStyle:{"max-width":"200px","margin-bottom":"12px"},attrs:{span:24}},[e("a-input",{attrs:{placeholder:"关键字查询..",allowClear:""},on:{pressEnter:t.search},model:{value:t.searchForm.keyWord,callback:function(e){t.$set(t.searchForm,"keyWord",e)},expression:"searchForm.keyWord"}})],1),e("a-col",{staticStyle:{width:"100px","margin-bottom":"12px"},attrs:{span:24}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("查询")])],1),e("a-col",{staticStyle:{width:"100px","margin-bottom":"12px"},attrs:{span:24}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.changeMode}},[t._v(t._s(t.mode))])],1)],1),"关闭入库模式"==t.mode?e("a-row",{attrs:{gutter:16}},[e("a-col",{staticStyle:{width:"600px","margin-bottom":"12px"},attrs:{span:24}},[e("a-input",{ref:"posting_number_input",attrs:{placeholder:"运单号输入..",allowClear:""},on:{pressEnter:t.openFormModal},model:{value:t.posting_number,callback:function(e){t.posting_number=e},expression:"posting_number"}})],1),e("a-col",{staticStyle:{width:"100px","margin-bottom":"12px"},attrs:{span:24}},[e("a-button",{attrs:{type:"primary",icon:"search"},on:{click:t.openFormModal}},[t._v("确定")])],1)],1):t._e(),e("a-row",{staticStyle:{"margin-top":"12px"}},[e("a-table",{attrs:{size:"small",columns:t.columns,dataSource:t.items,rowKey:"id",loading:t.loading,pagination:t.pagination},on:{change:t.tableChange},scopedSlots:t._u([{key:"posting_numbers",fn:function(r,a){return e("div",{},t._l(JSON.parse(a.posting_numbers),(function(r,a){return e("div",{key:a+100},[e("span",{staticStyle:{"font-weight":"700"}},[t._v(t._s(a+1)+".")]),e("span",{staticStyle:{color:"green"}},[t._v(" "+t._s(r.value)+" ")]),e("span",{staticStyle:{"margin-left":"20px","font-weight":"700"}},[t._v("状态：")]),e("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(r.signed)+" ")]),e("hr",{staticStyle:{"margin-top":"0"}})])})),0)}},{key:"system_product",fn:function(r,a){return e("div",{},[a.system_product?e("div",[e("span",[t._v(" SKU: ")]),t._v(" "),e("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(a.system_product.system_sku)+" ")]),e("span",[t._v(" 库存量: ")]),t._v(" "),e("span",{staticStyle:{color:"green"}},[t._v(t._s(a.system_product.stock_quantity))]),e("span",[t._v(" 缺货量: ")]),t._v(" "),e("span",{staticStyle:{color:"green"}},[t._v(t._s(a.system_product.omitted_quantity))]),e("span",[t._v(" 在途量: ")]),t._v(" "),e("span",{staticStyle:{color:"green"}},[t._v(t._s(a.system_product.in_transit_quantity))]),e("span",[t._v(" 供应商: ")]),t._v(" "),e("span",{staticStyle:{color:"green"}},[t._v(t._s(a.system_product.supplier_name))])]):t._e()])}},{key:"system_product.purchase_link",fn:function(r,a){return e("div",{},[e("div",t._l(JSON.parse(a.system_product.purchase_link),(function(r,a){return e("div",{key:a+100},[e("span",[t._v(t._s(a+1)+"：")]),e("a",{attrs:{href:r.link,target:"_blank"}},[t._v(" "+t._s(`链接${a+1}号`)+" ")]),e("span",{staticStyle:{color:"red"}},[t._v(" "+t._s(r.msg)+" ")]),e("hr")])})),0)])}}])})],1)],1),e("form-modal",{attrs:{form:t.targetItem,posting_number:t.posting_number},on:{update:t.update},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}})],1)},n=[],s=r("2006"),o=r("f64c"),i={name:"Warehouse",components:{FormModal:()=>Promise.all([r.e("chunk-22e5be5a"),r.e("chunk-18afc0b0")]).then(r.bind(null,"5c0f"))},data(){return{columns:[{title:"采购单ID",dataIndex:"id",width:150},{title:"采购单号",dataIndex:"purchase_id"},{title:"国内运单号",dataIndex:"posting_numbers",scopedSlots:{customRender:"posting_numbers"}},{title:"待采购量",dataIndex:"wait_for_purchase_quantity"},{title:"在篮量",dataIndex:"in_basket_quantity"},{title:"在途量",dataIndex:"in_transit_quantity"},{title:"库存量",dataIndex:"stock_quantity"},{title:"出库量",dataIndex:"out_stock_quantity"},{title:"丢失量",dataIndex:"loss_quantity"},{title:"采购价格",dataIndex:"price"},{title:"物流状态",dataIndex:"logistics_status"},{title:"采购平台",dataIndex:"purchase_platform"},{title:"采购状态",dataIndex:"status"},{title:"是否异常",dataIndex:"is_error",customRender:t=>t?"是":"否"},{title:"系统内商品",dataIndex:"system_product",scopedSlots:{customRender:"system_product"}},{title:"采购链接",dataIndex:"system_product.purchase_link",scopedSlots:{customRender:"system_product.purchase_link"}}],searchForm:{start:0,limit:15,keyWord:"",status:"全部",purchase_platform:"1688",supplier_name:""},pagination:{current:1,total:0,pageSize:15},loading:!1,items:[],visible:!1,targetItem:{},form:{},mode:"开启入库模式",posting_number:""}},watch:{"searchForm.purchase_platform"(t,e){this.loading=!0,this.searchForm.start=0,this.pagination.current=1,this.list()},"searchForm.status"(t,e){this.loading=!0,this.searchForm.start=0,this.pagination.current=1,this.list()}},computed:{},methods:{initialize(){this.list()},list(){this.loading=!0,Object(s["d"])(this.searchForm).then(t=>{this.pagination.total=t.data.count,this.items=t.data.data}).finally(()=>{this.loading=!1})},update(){this.visible=!1,this.list(),"关闭入库模式"==this.mode&&this.$nextTick(()=>{this.$refs.posting_number_input.focus()})},search(){this.searchForm.start=0,this.pagination.current=1,this.list()},openFormModal(){this.posting_number?Object(s["g"])({posting_number:this.posting_number}).then(t=>{o["a"].success(t.msg),this.targetItem=t.data.data,this.visible=!0}):o["a"].error("运单号不能为空！")},tableChange(t,e,r){this.searchForm.start=(t.current-1)*this.pagination.pageSize,this.pagination.current=t.current,this.list()},changeMode(){"开启入库模式"==this.mode?(this.mode="关闭入库模式",this.$nextTick(()=>{this.$refs.posting_number_input.focus()})):this.mode="开启入库模式"}},mounted(){this.initialize()},activated(){this.initialize()}},c=i,u=(r("28777"),r("2877")),d=Object(u["a"])(c,a,n,!1,null,"62c73034",null);e["default"]=d.exports},6335:function(t,e,r){}}]);
//# sourceMappingURL=chunk-0e6eb2e0.d8fa9300.js.map